!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=4)}({"+LyI":function(t,e,i){(e=i("JPst")(!1)).push([t.i,"\n.grading-control-item {\n    position: relative;\n}\n.grading-control-item .badge {\n    position: absolute;\n    top: 0;\n    right: -5px;\n    background: #3097d1;\n}\n.btn.mdi-flash {\n    color: #000;\n}\n.btn.mdi-flash:hover {\n    color: #FF9800;\n}\n",""]),t.exports=e},"1BY3":function(t,e,i){"use strict";i.r(e);var n={props:["baseUrl","image","inAnimationClass","outAnimationClass"],methods:{open:function(){var t=this;t.$emit("show:image:dialog"),t.$nextTick((function(){$(t.$refs.image).removeClass(t.outAnimationClass).addClass(t.inAnimationClass),$(t.$refs.dialog).show(0,(function(){t.$emit("shown:image:dialog"),t.timeoutId=setTimeout((function(){t.close()}),5e3)}))}))},close:function(){var t=this;t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null),t.$emit("hide:image:dialog"),t.$nextTick((function(){$(t.$refs.image).removeClass(t.inAnimationClass).addClass(t.outAnimationClass),setTimeout((function(){$(t.$refs.dialog).hide(0,(function(){t.$emit("hidden:image:dialog")}))}),1e3)}))},imageUrl:function(){return this.baseUrl+"/img/dialogs/"+this.image}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"dialog",staticClass:"sz-image-dialog",on:{click:function(e){return t.close()}}},[i("div",{staticClass:"sz-image-dialog-backdrop"}),t._v(" "),i("img",{ref:"image",staticClass:"animated",attrs:{alt:"image",src:t.imageUrl()}})])}),[],!1,null,null,null);e.default=a.exports},"2EyG":function(t,e){t.exports=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e.type,this.text=e.text,this.answer=e.answer,this.isCorrect=e.isCorrect}},4:function(t,e,i){t.exports=i("naXG")},"43nj":function(t,e,i){var n=i("+LyI");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,s);n.locals&&(t.exports=n.locals)},"5UIx":function(t,e,i){"use strict";e.a={methods:{isValidImageFormat:function(t){return"image/jpg"===t.type||"image/jpeg"===t.type||"image/png"==t.type}}}},"6Z5p":function(t,e,i){"use strict";e.a={methods:{getIconsBaseUrl:function(){return this.baseUrl+"/img/map/icons/"},getIconUrl:function(t,e,i){return this.getIconsBaseUrl()+(e&&1===e?"info_":"")+("active"!==t?t:"default")+(!0===i&&"inactive"===t?"_access":"")+".svg"}}}},"71Bo":function(t,e){t.exports=function(t,e){var i=null;return function(){clearTimeout(i);var n=arguments,s=this;i=setTimeout((function(){t.apply(s,n)}),e)}}},"8ktd":function(t,e,i){(e=i("JPst")(!1)).push([t.i,"\n.missing-word-container .correct, .missing-word-container .incorrect {\n    color: #2ab27b;\n    font-weight: bold;\n    padding: 0 5px;\n}\n.missing-word-container .incorrect {\n    color: red;\n}\n",""]),t.exports=e},"9UVA":function(t,e,i){(e=i("JPst")(!1)).push([t.i,"\n.missing-word-container span[data-v-404d2c31] {\n    line-height: 24px;\n    height: 34px;\n    display: inline;\n    white-space: pre-line;\n}\n.missing-word-container input[data-v-404d2c31] {\n    margin: 0 10px;\n    padding: 0 10px;\n}\n.missing-word-container .incorrect[data-v-404d2c31] {\n    color: red;\n    font-weight: bold;\n    padding: 0 5px;\n}\n.missing-word-container .correct[data-v-404d2c31] {\n    color: green;\n    font-weight: bold;\n    padding: 0 5px;\n}\n",""]),t.exports=e},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,a=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(s=0===a.indexOf("//")?a:0===a.indexOf("/")?i+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},CKNg:function(t,e,i){"use strict";function n(t,e){window.console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}var s=function(t,e){t.locale=function(t,i,s){if(void 0===i)return e.locales[t];null===i?(e.locales[t]=void 0,delete e.locales[t]):function(t,e,i){if("object"==typeof e)i(e);else{var n=e.call(this);if("function"==typeof n)if(n.resolved)i(n.resolved);else if(n.requested)n.pendingCallbacks.push(i);else{n.requested=!0;var s=n.pendingCallbacks=[i];n((function(t){n.resolved=t;for(var e=0,i=s.length;e<i;e++)s[e](t)}),(function(){i()}))}else(a=n)&&"function"==typeof a.then&&n.then((function(t){i(t)}),(function(){i()})).catch((function(t){console.error(t),i()}))}var a}(0,i,(function(i){i?e.$set(e.locales,t,i):n("failed set `"+t+"` locale"),s&&s()}))}};var a,o;function r(t){if(!a){var e=t.$watch("__watcher__",(function(t){}));a=t._watchers[0].constructor,e()}return a}function c(t){return!o&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(o=t._data.__ob__.dep.constructor),o}function l(t){return null==t}function u(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function d(t){return null!==t&&"object"==typeof t}var h=Object.prototype.toString;var m,p=Object.prototype.hasOwnProperty;function f(t,e){return p.call(t,e)}var g=null,v=null,_=/(%|)\{([0-9a-zA-Z_]+)\}/g,y=Object.create(null),w=[];w[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},w[1]={ws:[1],".":[2],"[":[4],eof:[7]},w[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},w[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},w[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},w[5]={"'":[4,0],eof:8,else:[5,0]},w[6]={'"':[4,0],eof:8,else:[6,0]};var C=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function b(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function x(t){var e,i,n,s=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(n=s,C.test(n)?(i=(e=s).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==i&&39!==i?e:e.slice(1,-1):"*"+s)}function k(t){var e=y[t];return e||(e=function(t){var e,i,n,s,a,o,r,c=[],l=-1,u=0,d=0,h=[];function m(){var e=t[l+1];if(5===u&&"'"===e||6===u&&'"'===e)return l++,i="\\"+e,h[0](),!0}for(h[1]=function(){void 0!==n&&(c.push(n),n=void 0)},h[0]=function(){void 0===n?n=i:n+=i},h[2]=function(){h[0](),d++},h[3]=function(){if(d>0)d--,u=4,h[0]();else{if(d=0,!1===(n=x(n)))return!1;h[1]()}};null!=u;)if(l++,"\\"!==(e=t[l])||!m()){if(s=b(e),8===(a=(r=w[u])[s]||r.else||8))return;if(u=a[0],(o=h[a[1]])&&(i=void 0===(i=a[2])?e:i,!1===o()))return;if(7===u)return c.raw=t,c}}(t))&&(y[t]=e),e}var T,$=function(t){function e(t){if(null==t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(i=t,"[object Object]"===h.call(i))for(var e in t)if(f(t,e))return!1;var i;return!0}return function(t,i){if(!d(t))return null;var n=k(i);if(e(n))return null;for(var s=n.length,a=t,o=0;o<s;){var r=a[n[o]];if(void 0===r){a=null;break}a=r,o++}return a}},A=function(t){var e=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return(e=1===e.length&&"object"==typeof e[0]?e[0]:{})&&e.hasOwnProperty||(e={}),t.replace(_,(function(i,n,s,a){var o;return"{"===t[a-1]&&"}"===t[a+i.length]?s:l(o=f(e,s)?e[s]:i)?"":o}))},i=$();function s(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=t.config.lang,s=t.config.fallbackLang;return 1===e.length?d(e[0])||Array.isArray(e[0])?e=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(d(e[1])||Array.isArray(e[1]))&&(e=e[1])),{lang:n,fallback:s,params:e}}function a(t,e){return!(!t||!e)&&!l(i(t,e))}function o(s,a,r){if(!s)return null;var c=i(s,a);if(Array.isArray(c))return c;if(l(c)&&(c=s[a]),l(c))return null;if("string"!=typeof c)return n("Value of key '"+a+"' is not a string!"),null;if(c.indexOf("@:")>=0){var u=c.match(/(@:[\w|.]+)/g);for(var d in u){var h=u[d],m=o(s,h.substr(2),r);c=c.replace(h,m)}}return r?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[c].concat(r)):e(c,r):c}function r(t,e,i,n,s){var a=null;return l(a=o(t(e),n,s))&&l(a=o(t(i),n,s))?null:a}function c(e,i,n,s){return l(s)?(t.config.missingHandler&&t.config.missingHandler.apply(null,[e,i,n]),i):s}function h(e){return t.locale(e)}function m(t){return this.$options.locales[t]}function p(t,e){if(!t&&"string"!=typeof t)return null;var i=t.split("|");return i[e=function(t,e){return t=Math.abs(t),2===e?function(t){return t?t>1?1:0:1}(t):t?Math.min(t,2):0}(e,i.length)]?i[e].trim():t}return t.t=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(!t)return"";var n=s.apply(void 0,e),a=n.lang,o=n.fallback,l=n.params;return c(a,t,null,r(h,a,o,t,l))},t.tc=function(e,i){for(var n=[],s=arguments.length-2;s-- >0;)n[s]=arguments[s+2];return p(t.t.apply(t,[e].concat(n)),i)},t.te=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=s.apply(void 0,e),o=n.lang;return a(h(o),t)},t.prototype.$t=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(!t)return"";var n=s.apply(void 0,e),a=n.lang,o=n.fallback,l=n.params,d=null;return this.$options.locales&&(d=r(u(m,this),a,o,t,l))?d:c(a,t,this,r(h,a,o,t,l))},t.prototype.$tc=function(t,e){for(var i,n=[],s=arguments.length-2;s-- >0;)n[s]=arguments[s+2];return"number"!=typeof e&&void 0!==e?t:p((i=this).$t.apply(i,[t].concat(n)),e)},t.prototype.$te=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=s.apply(void 0,e),o=n.lang,r=!1;return this.$options.locales&&(r=a(u(m)(o),t)),r||(r=a(h(o),t)),r},t.mixin({computed:{$lang:function(){return t.config.lang}}}),t};function I(t,e){void 0===e&&(e={});t.version&&Number(t.version.split(".")[0]);!function(t,e){var i=t.config.silent;t.config.silent=!0,T||(T=new t({data:{lang:e,locales:{}}}));t.config.silent=i}(t,"en"),s(t,T),function(t,e){var i=t.prototype._init;t.prototype._init=function(t){var n=this;i.call(this,t),this.$parent||(this._$lang=e,this._langUnwatch=this._$lang.$watch("$data",(function(t,e){n.$forceUpdate()}),{deep:!0}))};var n=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this._$lang=null),n.apply(this,arguments)}}(t,T),function(t,e,i){var n,s,a,o=r(e),l=c(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:(n=function(){return e.lang},s=e,a=new o(s,n,null,{lazy:!0}),function(){return a.dirty&&a.evaluate(),l&&l.target&&a.depend(),a.value}),set:u((function(t){e.lang=t}),e)}),m=i,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return m},set:function(t){m=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){g=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return v},set:function(t){v=t}})}(t,T,"en"),A(t)}I.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(I),t.exports=I},CRPd:function(t,e,i){"use strict";var n=i("Mmys");i.n(n).a},JPst:function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var s=(o=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(c," */")),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[i].concat(a).concat([s]).join("\n")}var o,r,c;return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,n){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(s[o]=!0)}for(var r=0;r<t.length;r++){var c=[].concat(t[r]);n&&s[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},JSGF:function(t,e,i){"use strict";i.r(e);var n={props:["activity"],mounted:function(){this.baseUrl=window.RADA.config.base_url;var t=this;this.hammertime=new Hammer.Manager(this.$refs.tips,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),this.hammertime.on("swipeleft",(function(){t.nextItem(),t.isLastItem()&&t.close()})),this.hammertime.on("swiperight",(function(){t.previousItem()}))},data:function(){return{baseUrl:"",currentItem:"gameplay_instructions",items:["gameplay_instructions","look_closely","look_out","do_not_disturb","help_others"],enterActiveClass:"animated slideInRight",leaveActiveClass:"animated slideOutLeft"}},methods:{open:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("show")}))},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide"),t.$root.$emit("dialog:tutorial:close")}))},getItemImageUrl:function(t,e){return e||(e="jpg"),this.baseUrl+"/img/guidelines/"+t+"."+e},isFirstItem:function(){return 0===this.items.indexOf(this.currentItem)},isLastItem:function(){return this.items.indexOf(this.currentItem)===this.items.length-1},nextItem:function(){var t=this;if(!this.isLastItem()&&this.currentItem){var e=this;this.enterActiveClass="animated slideInRight",this.leaveActiveClass="animated slideOutLeft",$(this.$refs.tips).css("min-height",$(this.$refs.tips).height()),this.$nextTick((function(){e.currentItem=e.items[e.items.indexOf(e.currentItem)+1],setTimeout((function(){$(t.$refs.tips).css("min-height","")}),2e3)}))}},previousItem:function(){var t=this;if(!this.isFirstItem()&&this.currentItem){var e=this;this.enterActiveClass="animated slideInLeft",this.leaveActiveClass="animated slideOutRight",$(this.$refs.tips).css("min-height",$(this.$refs.tips).height()),this.$nextTick((function(){e.currentItem=e.items[e.items.indexOf(e.currentItem)-1],setTimeout((function(){$(t.$refs.tips).css("min-height","")}),2e3)}))}}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-tips-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title text-center"},[t._v(t._s(t.$t("tips-text")))])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{ref:"tips",staticClass:"tips"},[i("transition",{attrs:{name:"tip-side",mode:"out-in","enter-active-class":t.enterActiveClass,"leave-active-class":t.leaveActiveClass}},["gameplay_instructions"===t.currentItem?i("div",{key:"gameplay_instructions",staticClass:"tip"},[i("div",{staticClass:"tip-image"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"image",src:t.getItemImageUrl("gameplay_instructions","png")}})]),t._v(" "),i("h4",{staticClass:"text-center"},[t._v(t._s(t.$t("items.gameplay_instructions.title")))]),t._v(" "),i("div",{staticClass:"text-center"},[t._v(t._s(t.$t("items.gameplay_instructions.description")))])]):t._e(),t._v(" "),"look_closely"===t.currentItem?i("div",{key:"look_closely",staticClass:"tip"},[i("div",{staticClass:"tip-image"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"image",src:t.getItemImageUrl("look_closely")}})]),t._v(" "),i("h4",{staticClass:"text-center"},[t._v(t._s(t.$t("items.look_closely.title")))]),t._v(" "),i("div",{staticClass:"text-center"},[t._v(t._s(t.$t("items.look_closely.description")))])]):t._e(),t._v(" "),"look_out"===t.currentItem?i("div",{key:"look_out",staticClass:"tip"},[i("div",{staticClass:"tip-image"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"image",src:t.getItemImageUrl("look_out")}})]),t._v(" "),i("h4",{staticClass:"text-center"},[t._v(t._s(t.$t("items.look_out.title")))]),t._v(" "),i("div",{staticClass:"text-center"},[t._v(t._s(t.$t("items.look_out.description")))])]):t._e(),t._v(" "),"do_not_disturb"===t.currentItem?i("div",{key:"do_not_disturb",staticClass:"tip"},[i("div",{staticClass:"tip-image"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"image",src:t.getItemImageUrl("do_not_disturb")}})]),t._v(" "),i("h4",{staticClass:"text-center"},[t._v(t._s(t.$t("items.do_not_disturb.title")))]),t._v(" "),i("div",{staticClass:"text-center"},[t._v(t._s(t.$t("items.do_not_disturb.description")))])]):t._e(),t._v(" "),"help_others"===t.currentItem?i("div",{key:"help_others",staticClass:"tip"},[i("div",{staticClass:"tip-image"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"image",src:t.getItemImageUrl("help_others")}})]),t._v(" "),i("h4",{staticClass:"text-center"},[t._v(t._s(t.$t("items.help_others.title")))]),t._v(" "),i("div",{staticClass:"text-center"},[t._v(t._s(t.$t("items.help_others.description")))])]):t._e()])],1),t._v(" "),i("ul",{staticClass:"text-center slides"},t._l(t.items,(function(e){return i("li",[i("span",{class:{badge:!0,current:e===t.currentItem}},[t._v(" ")])])})),0)]),t._v(" "),i("div",{staticClass:"modal-footer"},[t.isFirstItem()?t._e():i("button",{staticClass:"btn btn-default btn-lg pull-left",attrs:{type:"button",disabled:!t.currentItem},on:{click:function(e){return t.previousItem()}}},[t._v(t._s(t.$t("back")))]),t._v(" "),t.isLastItem()?t._e():i("button",{staticClass:"btn btn-success btn-lg pull-right",attrs:{type:"button",disabled:!t.currentItem},on:{click:function(e){return t.nextItem()}}},[t._v(t._s(t.$t("next")))]),t._v(" "),t.isLastItem()?i("button",{staticClass:"btn btn-success btn-lg pull-right",attrs:{type:"button",disabled:!t.currentItem},on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("got-it")))]):t._e()])])])])}),[],!1,null,null,null);e.default=a.exports},Jljj:function(t,e,i){"use strict";i.r(e);var n=i("5UIx"),s=i("wAI+"),a=i("71Bo"),o=i.n(a);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c={props:["question","answer","gameId","baseUrl","isPreview"],mixins:[n.a,s.a],mounted:function(){var t=this,e=this;this.$nextTick((function(){$(t.$refs.modal).on("hide.bs.modal",(function(t){e.inAjaxCall&&t.preventDefault()}))}))},data:function(){return{isOpen:!1,selectedOptions:[],textualAnswer:"",hasImageSelected:!1,imageSrc:null,chosenPair:{option:null,match:null},matchedPairs:[],shuffledPairs:[],matchableStyles:{"min-height":"100px"},inAjaxCall:!1,incorrectImageFormat:!1,answeringTime:null,missingWords:[],isMissingWordFilled:!1}},methods:{calculateRemainingAnsweringTime:function(){var t=this;if(this.answer&&null!==this.answer.answering_start_time&&!1===this.$parent.isAnswered(this.question.id)){var e=this.answer.answering_start_time,i=new Date(e),n=new Date,s=1e3*this.question.answering_time,a=n.getTime()-i.getTime(),o=s-1e3*Math.round(a/1e3);if(o<0)return this.$nextTick((function(){t.closeQuestion()})),!1;var r=new Date(o);this.answeringTime="",r.getUTCHours()>0&&(this.answeringTime+=("0"+r.getUTCHours()).slice(-2),this.answeringTime+=":"),r.getUTCMinutes()>0?(this.answeringTime+=("0"+r.getUTCMinutes()).slice(-2),this.answeringTime+=":"):this.answeringTime+="00:",this.answeringTime+=("0"+r.getUTCSeconds()).slice(-2),setTimeout((function(){t.calculateRemainingAnsweringTime()}),1e3)}else this.answeringTime=null},closeQuestion:function(t){var e=this,i={game_id:this.gameId,question_id:this.question.id};this.inAjaxCall=!0,this.$http.post(e.baseUrl+"/api/games/close-question",i).then((function(i){var n=e.isOpen;e.inAjaxCall=!1,e.$parent.markAnswered(e.question.id,i.body),e.close(),$(".modal-backdrop").remove(),e.$parent.answer=null,!0===n&&e.$nextTick((function(){e.$parent.openAnsweringTimeIsUpModal(t)}))}),(function(t){e.inAjaxCall=!1,setTimeout((function(){e.closeQuestion()}),2e3)}))},open:function(){var t=this,e=this.baseUrl+"/api/games/"+this.gameId+"/start-question/"+this.question.id;return this.$http.get(e).then((function(e){t.isOpen=!0,t.generateMissingWords(),t.calculateRemainingAnsweringTime(),t.isMatchPairs()?(t.pairs().length>0&&(t.isAnswered()||(t.question.pairs=_.shuffle(t.pairs())),$(t.$refs.modal).one("shown.bs.modal",(function(e){var i=t,n=_.map(t.$refs.matchable,(function(t){return $(t).outerHeight(!0)})),s=_.max(n);s&&(i.matchableStyles["min-height"]=s+"px")}))),t.isAnswered()?t.shuffledPairs=t.pairs():t.shuffledPairs=_.shuffle(t.pairs())):(t.isOneCorrectAnswer()||t.isMultipleCorrectAnswers())&&t.options().length>0&&(t.question.options=_.shuffle(t.options())),$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide"),t.isOpen=!1,t.selectedOptions=[],t.textualAnswer="",t.hasImageSelected=!1,t.imageSrc=null,t.chosenPair.option=null,t.chosenPair.mathc=null,t.matchedPairs=[],t.shuffledPairs=[],t.matchableStyles["min-height"]="100px",t.inAjaxCall=!1,$(t.$refs.image).val(""),t.incorrectImageFormat=!1,t.answeringTime=null,t.missingWords=[],t.isMissingWordFilled=!1}))},submit:function(){if(!this.inAjaxCall){var t=this;this.inAjaxCall=!0;var e={game_id:this.gameId,question_id:this.question.id};if(this.isOneCorrectAnswer()||this.isMultipleCorrectAnswers()?e.options=this.selectedOptions:(this.isFreeformAnswer()||this.isEmbeddedContent())&&(e.text=this.textualAnswer),this.isPhoto()){var i=new FormData;_.each(e,(function(t,e){i.append(e,t)})),i.append("image",this.$refs.image.files[0]),e=i}this.isMissingWord()&&(e.text=this.missingWordsToString(this.missingWords)),this.$http.post(t.baseUrl+"/api/games/answer",e).then((function(e){t.inAjaxCall=!1,t.$parent.openImageDialog(t.question.id,e.body),t.close()}),(function(e){t.inAjaxCall=!1,console.error("Error",e)}))}},title:function(){return this.question?this.question.title:""},description:function(){return this.question?this.question.description:""},hasImage:function(){return this.question&&this.question.image_url},image:function(){return this.question?this.question.image_url:""},embeddedContent:function(){return this.question?this.question.embedded_content:""},hasReadMore:function(){return this.question&&this.question.read_more},readMore:function(){return this.question?this.question.read_more:""},options:function(){return this.question&&this.question.options?this.question.options:[]},pairs:function(t){return!0===t?this.shuffledPairs:this.question&&this.question.pairs?this.question.pairs:[]},isInformation:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.INFORMATION},isOneCorrectAnswer:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.ONE_CORRECT_ANSWER},isMultipleCorrectAnswers:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.MULTIPLE_CORRECT_ANSWERS},isFreeformAnswer:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.FREEFORM_ANSWER},isMatchPairs:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.MATCH_PAIRS},isEmbeddedContent:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.EMBEDDED_CONTENT},isPhoto:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.PHOTO},isMissingWord:function(){return!!this.question&&this.question.type==window.Laravel.questionTypeConstants.MISSING_WORD},onMissingWordChange:o()((function(t){var e=t.target,i=e.getAttribute("data-index");this.$set(this.missingWords[i],"answer",e.value),this.$set(this.missingWords[i],"isCorrect",e.value.trim().toLowerCase()===this.missingWords[i].text.trim().toLowerCase());var n=this.missingWords.filter((function(t){return"input"===t.type&&0===t.answer.trim().length}));this.isMissingWordFilled=0===n.length}),100),generateMissingWords:function(){if(!this.isMissingWord())return!1;var t=this.question.missing_word,e="",i=this.missingWordsToArray(t),n=[];if(this.isAnswered()){e=this.answer.answer.text,n=this.missingWordsToArray(e);var s=i.length;if(s===n.length)for(var a=0;a<s;a++)i[a].answer=n[a].text,i[a].isCorrect=i[a].text.trim().toLowerCase()===n[a].text.trim().toLowerCase()}this.missingWords=i},isSelectedOption:function(t){var e;return(e=this.isAnswered()?this.answer.answer.options:this.selectedOptions)&&"object"===r(e)?-1!==e.indexOf(t):e===t},triggerOptionClick:function(t){this.isAnswered()||$(this.$refs.option[t]).trigger("click")},triggerImageClick:function(){$(this.$refs.image).trigger("click")},imageSelected:function(t){if(t.target.files.length>0){var e=t.target.files[0];if(!this.isValidImageFormat(e))return $(t.target).val(""),this.hasImageSelected=!1,void(this.incorrectImageFormat=!0);if(window.FileReader){var i=new FileReader,n=this;i.onload=function(t){n.imageSrc=t.target.result},i.readAsDataURL(e)}this.hasImageSelected=!0,this.incorrectImageFormat=!1}},canSubmit:function(){return!!this.isInformation()||(this.isOneCorrectAnswer()||this.isMultipleCorrectAnswers()?"object"===r(this.selectedOptions)?this.selectedOptions.length>0:!!this.selectedOptions:this.isFreeformAnswer()||this.isEmbeddedContent()?!!this.textualAnswer.trim():this.isMatchPairs()?this.matchedPairs.length===this.pairs().length:this.isPhoto()?this.hasImageSelected:!!this.isMissingWord()&&this.isMissingWordFilled)},resetChosenPair:function(){var t=this;this.$nextTick((function(){var e=t;setTimeout((function(){e.chosenPair.option=null,e.chosenPair.match=null}),250)}))},choose:function(t,e){this.isMatchedPair(e)||(this.chosenPair[t]=e.id,this.chosenPair.option===this.chosenPair.match?(this.matchedPairs.push(e.id),this.resetChosenPair()):null!==this.chosenPair.option&&null!==this.chosenPair.match&&this.resetChosenPair())},choosePair:function(t){this.choose("option",t)},choosePairMatch:function(t){this.choose("match",t)},isOptionChosen:function(t){return this.chosenPair.option===t.id},isOptionMatchChosen:function(t){return this.chosenPair.match===t.id},isMatchedPair:function(t){return!!this.isAnswered()||-1!==this.matchedPairs.indexOf(t.id)},isAnswered:function(){return!!this.answer&&this.answer.is_answered},isCorrectOption:function(t){return!!t.correct},optionIconClass:function(t){var e=[],i=this.isCorrectOption(t);return this.isSelectedOption(t.id)&&(i?e.push("correct"):e.push("incorrect")),this.isOneCorrectAnswer()?i?e.push("mdi-checkbox-marked-circle-outline"):e.push("mdi-close-circle-outline"):this.isMultipleCorrectAnswers()&&(i?e.push("mdi-checkbox-marked-outline"):e.push("mdi-close-box-outline")),e}}},l=(i("CRPd"),i("KHd+")),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-question",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v("\n                    "+t._s(t.title())+"\n                    "),null!=t.answeringTime?i("span",{staticClass:"pull-right",staticStyle:{"padding-right":"15px"}},[t._v(t._s(t.$t("remaining_time"))+": "+t._s(t.answeringTime))]):t._e()])]),t._v(" "),i("div",{staticClass:"modal-body"},[t.hasImage()?i("div",[i("img",{staticClass:"img-responsive",attrs:{src:"",alt:"image",src:t.image()}})]):t._e(),t._v(" "),i("p",{staticClass:"sz-display-new-lines"},[t._v(t._s(t.description()))]),t._v(" "),t.isOneCorrectAnswer()?i("div",[i("ul",{staticClass:"media-list sz-one-correct-answer"},t._l(t.options(),(function(e,n){return i("li",{staticClass:"media",on:{click:function(e){return t.triggerOptionClick(n)}}},[e.image_url?i("div",{staticClass:"media-left"},[i("img",{staticClass:"media-object",attrs:{src:e.image_url,alt:"option-image"}})]):t._e(),t._v(" "),i("div",{staticClass:"media-body media-middle"},[i("h4",{staticClass:"media-heading",class:{selected:t.isAnswered()&&t.isSelectedOption(e.id)}},[t._v(t._s(e.option))])]),t._v(" "),i("div",{staticClass:"media-right media-middle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptions,expression:"selectedOptions"}],ref:"option",refInFor:!0,staticClass:"form-control",attrs:{type:"radio",name:"option"},domProps:{value:e.id,checked:t._q(t.selectedOptions,e.id)},on:{change:function(i){t.selectedOptions=e.id}}}),t._v(" "),t.isSelectedOption(e.id)||t.isAnswered()?t._e():i("i",{staticClass:"mdi mdi-radiobox-blank"}),t._v(" "),t.isSelectedOption(e.id)&&!t.isAnswered()?i("i",{staticClass:"mdi mdi-radiobox-marked"}):t._e(),t._v(" "),t.isAnswered()?i("i",{staticClass:"mdi",class:t.optionIconClass(e),attrs:{"aria-hidden":"true"}}):t._e()])])})),0)]):t._e(),t._v(" "),t.isMultipleCorrectAnswers()?i("div",[i("ul",{staticClass:"media-list sz-multiple-correct-answers"},t._l(t.options(),(function(e,n){return i("li",{staticClass:"media",on:{click:function(e){return t.triggerOptionClick(n)}}},[e.image_url?i("div",{staticClass:"media-left"},[i("img",{staticClass:"media-object",attrs:{src:e.image_url,alt:"option-image"}})]):t._e(),t._v(" "),i("div",{staticClass:"media-body media-middle"},[i("h4",{staticClass:"media-heading",class:{selected:t.isAnswered()&&t.isSelectedOption(e.id)}},[t._v(t._s(e.option))])]),t._v(" "),i("div",{staticClass:"media-right media-middle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedOptions,expression:"selectedOptions"}],ref:"option",refInFor:!0,staticClass:"form-control",attrs:{type:"checkbox",name:"options[]"},domProps:{value:e.id,checked:Array.isArray(t.selectedOptions)?t._i(t.selectedOptions,e.id)>-1:t.selectedOptions},on:{change:function(i){var n=t.selectedOptions,s=i.target,a=!!s.checked;if(Array.isArray(n)){var o=e.id,r=t._i(n,o);s.checked?r<0&&(t.selectedOptions=n.concat([o])):r>-1&&(t.selectedOptions=n.slice(0,r).concat(n.slice(r+1)))}else t.selectedOptions=a}}}),t._v(" "),t.isSelectedOption(e.id)||t.isAnswered()?t._e():i("i",{staticClass:"mdi mdi-checkbox-blank-outline"}),t._v(" "),t.isSelectedOption(e.id)&&!t.isAnswered()?i("i",{staticClass:"mdi mdi-checkbox-marked-outline"}):t._e(),t._v(" "),t.isAnswered()?i("i",{staticClass:"mdi",class:t.optionIconClass(e),attrs:{"aria-hidden":"true"}}):t._e()])])})),0)]):t._e(),t._v(" "),t.isFreeformAnswer()?i("div",[i("div",{staticClass:"form-group"},[t.isAnswered()?t._e():i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textualAnswer,expression:"textualAnswer"}],staticClass:"form-control",attrs:{placeholder:t.$t("textual-answer-placeholder")},domProps:{value:t.textualAnswer},on:{input:function(e){e.target.composing||(t.textualAnswer=e.target.value)}}}),t._v(" "),t.isAnswered()?i("textarea",{staticClass:"form-control",attrs:{placeholder:t.$t("textual-answer-placeholder"),readonly:"readonly"},domProps:{value:t.answer.answer.text}}):t._e()])]):t._e(),t._v(" "),t.isMatchPairs()?i("div",[i("div",{staticClass:"row sz-match-pairs"},[i("div",{staticClass:"col-xs-6"},t._l(t.pairs(),(function(e){return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12"},[i("div",{ref:"matchable",refInFor:!0,staticClass:"sz-matchable",class:{chosen:t.isOptionChosen(e),matched:t.isMatchedPair(e)},style:t.matchableStyles,on:{click:function(i){return t.choosePair(e)}}},[e.image_url?i("img",{staticClass:"media-object",attrs:{src:e.image_url,alt:"pair-image"}}):t._e(),t._v(" "),i("div",[t._v(t._s(e.option))])])])])})),0),t._v(" "),i("div",{staticClass:"col-xs-6"},t._l(t.pairs(!0),(function(e){return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-12"},[i("div",{ref:"matchable",refInFor:!0,staticClass:"sz-matchable",class:{chosen:t.isOptionMatchChosen(e),matched:t.isMatchedPair(e)},style:t.matchableStyles,on:{click:function(i){return t.choosePairMatch(e)}}},[e.image_match_url?i("img",{staticClass:"media-object",attrs:{src:e.image_match_url,alt:"pair-image"}}):t._e(),t._v(" "),i("div",[t._v(t._s(e.option_match))])])])])})),0)])]):t._e(),t._v(" "),t.isEmbeddedContent()?i("div",[i("div",{staticClass:"embed-responsive embed-responsive-16by9",domProps:{innerHTML:t._s(t.embeddedContent())}}),t._v(" "),i("div",{staticClass:"form-group"},[t.isAnswered()?t._e():i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textualAnswer,expression:"textualAnswer"}],staticClass:"form-control",attrs:{placeholder:t.$t("textual-answer-placeholder")},domProps:{value:t.textualAnswer},on:{input:function(e){e.target.composing||(t.textualAnswer=e.target.value)}}}),t._v(" "),t.isAnswered()?i("textarea",{staticClass:"form-control",attrs:{placeholder:t.$t("textual-answer-placeholder"),readonly:"readonly"},domProps:{value:t.answer.answer.text}}):t._e()])]):t._e(),t._v(" "),t.isPhoto()&&!t.isAnswered()?i("div",{staticClass:"sz-photo"},[i("transition",{attrs:{name:"fade-in-down-out-up","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.incorrectImageFormat,expression:"incorrectImageFormat"}],staticClass:"alert alert-danger text-center",attrs:{role:"alert"}},[t._v("\n                            "+t._s(t.$t("image-format-hint"))+"\n                        ")])]),t._v(" "),i("div",{staticClass:"row text-center"},[i("a",{directives:[{name:"show",rawName:"v-show",value:!t.hasImageSelected,expression:"!hasImageSelected"}],staticClass:"btn sz-take-image",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){return e.preventDefault(),t.triggerImageClick()}}},[i("i",{staticClass:"mdi mdi-camera",attrs:{"aria-hidden":"true"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasImageSelected,expression:"hasImageSelected"}],staticClass:"row"},[i("div",{staticClass:"col-xs-10 col-xs-offset-1"},[i("img",{staticClass:"img-responsive center-block sz-image-taken",attrs:{src:t.imageSrc,alt:"uploadable-image"},on:{click:function(e){return e.preventDefault(),t.triggerImageClick()}}})])]),t._v(" "),i("input",{ref:"image",attrs:{type:"file",accept:"image/jpeg, image/png",capture:"camera",name:"image"},on:{change:t.imageSelected}})],1):t._e(),t._v(" "),t.isPhoto()&&t.isAnswered()?i("div",{staticClass:"sz-photo"},[t.isAnswered()?i("img",{staticClass:"img-responsive center-block sz-image-taken",attrs:{src:t.answer.image,alt:"uploaded-image"}}):t._e()]):t._e(),t._v(" "),t.isMissingWord()?i("div",{staticClass:"missing-word-container"},[i("div",{staticClass:"form-group"},t._l(t.missingWords,(function(e,n){return i("span",["text"===e.type?i("span",[t._v(t._s(e.text))]):t._e(),t._v(" "),"input"!==e.type||t.isAnswered()?t._e():i("input",{attrs:{type:"text","data-index":n},on:{keyup:t.onMissingWordChange}}),t._v(" "),"input"===e.type&&t.isAnswered()?i("span",[!1===e.isCorrect?i("span",{staticClass:"incorrect"},[t._v(t._s(e.answer)+" "),i("span",{staticClass:"correct"},[t._v("("+t._s(e.text)+")")])]):t._e(),t._v(" "),!0===e.isCorrect?i("span",{staticClass:"correct"},[t._v(t._s(e.answer))]):t._e()]):t._e()])})),0)]):t._e()]),t._v(" "),i("div",{staticClass:"modal-footer"},[t.hasReadMore()?i("a",{staticClass:"btn btn-default",attrs:{href:"",href:t.readMore(),target:"_blank"}},[i("i",{staticClass:"mdi mdi-open-in-new",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t.$t("read-more-about"))+"\n                ")]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.inAjaxCall,title:t.$t("close")},on:{click:function(e){return t.close()}}},[i("i",{staticClass:"mdi mdi-close"})]),t._v(" "),t.isPreview||t.isAnswered()?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.canSubmit()||t.inAjaxCall,title:t.$t("submit")},on:{click:function(e){return t.submit()}}},[i("i",{staticClass:"mdi mdi-send"})])])])])])}),[],!1,null,"404d2c31",null);e.default=u.exports},"KHd+":function(t,e,i){"use strict";function n(t,e,i,n,s,a,o,r){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):s&&(c=r?function(){s.call(this,this.$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}i.d(e,"a",(function(){return n}))},LPnv:function(t,e,i){"use strict";var n=i("43nj");i.n(n).a},LXli:function(t,e,i){var n=i("OUkt");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,s);n.locals&&(t.exports=n.locals)},M3GA:function(t,e,i){(e=i("JPst")(!1)).push([t.i,"\n.modal-body.text-center, .modal-footer.text-center {\n    text-align: center;\n}\n.star {\n    font-size: 80px;\n}\n",""]),t.exports=e},Mmys:function(t,e,i){var n=i("9UVA");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,s);n.locals&&(t.exports=n.locals)},OUkt:function(t,e,i){(e=i("JPst")(!1)).push([t.i,"\n.flash-exercise[data-v-3e7fa61d] {\n    margin-bottom: 15px;\n    height: 36px;\n    line-height: 36px;\n}\n.flash-exercise .name[data-v-3e7fa61d] {\n    padding-left: 15px;\n}\ntextarea[data-v-3e7fa61d] {\n    margin-bottom: 10px;\n}\n.message[data-v-3e7fa61d] {\n    border-bottom: 1px dotted #ccc;\n}\n.message td[data-v-3e7fa61d] {\n    padding: 10px;\n}\n",""]),t.exports=e},Pykw:function(t,e,i){"use strict";i.r(e);var n={props:["game","baseUrl"],data:function(){return{stars:[1,2,3,4,5],callback:null,event:null}},methods:{addRating:function(t,e){var i=this;this.$http.get(vm.baseUrl+"/api/games/"+this.game.id+"/add-rating/"+e).then((function(t){i.close()}))},mouseOverStar:function(t){for(var e=t.target.dataset.value,i=document.getElementsByClassName("star"),n=i.length,s=0;s<n;s++){var a=i[s];a.dataset.value<=e?(a.classList.remove("mdi-star-outline"),a.classList.add("mdi-star")):(a.classList.remove("mdi-star"),a.classList.add("mdi-star-outline"))}},open:function(t){var e=this;this.callback=t,this.$nextTick((function(){$(e.$refs.modal).modal("show")}))},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide"),t.callback()}))}}},s=(i("cfJP"),i("KHd+")),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-results",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("rating-heading")))])]),t._v(" "),i("div",{staticClass:"modal-body text-center"},t._l(t.stars,(function(e){return i("a",{staticClass:"mdi mdi-star-outline star",attrs:{href:"#","data-value":e},on:{click:function(i){return t.addRating(t.event,e)},mouseover:t.mouseOverStar}})})),0),t._v(" "),i("div",{staticClass:"modal-footer text-center"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("show-results")))])])])])])}),[],!1,null,null,null);e.default=a.exports},SS4g:function(t,e,i){"use strict";var n=i("LXli");i.n(n).a},VQj8:function(t,e,i){"use strict";i.r(e);var n={props:["question"],mounted:function(){var t=this;this.$nextTick((function(){var e=t;$(t.$refs.modal).on("hidden.bs.modal",(function(t){!0===e.correctCode?e.$nextTick((function(){e.$parent.$refs.questionModal.open()})):e.$parent.question=null,e.accessCode=null,e.correctCode=!1,e.animated=!1})),$(t.$refs.modal).on("shown.bs.modal",(function(i){e.$nextTick((function(){$(t.$refs.input).focus()}))}))}))},data:function(){return{accessCode:null,correctCode:!1,animated:!1}},methods:{open:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("show")}))},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))},title:function(){return this.question&&this.question.title?this.question.title:""},hasAccessCodeClues:function(){var t=this.accessCodeClues();return!(!t||!t.trim())},accessCodeClues:function(){return this.question&&this.question.access_code_clues?this.question.access_code_clues:""},canCheck:function(){return!!this.accessCode},check:function(){if(this.canCheck()){var t=this;t.animated=!1,t.$nextTick((function(){t.accessCode.toLowerCase().trim()===t.question.access_code.toLowerCase().trim()?(t.correctCode=!0,t.close()):t.correctCode=!1,t.animated=!0}))}}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.title()))])]),t._v(" "),i("div",{staticClass:"modal-body"},[t.hasAccessCodeClues()?i("p",[i("i",{staticClass:"mdi mdi-information-outline"}),t._v("\n                    "+t._s(t.accessCodeClues())+"\n                ")]):t._e(),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.accessCode,expression:"accessCode"}],ref:"input",staticClass:"form-control",class:{animated:t.animated,shake:!t.correctCode&&t.animated},attrs:{type:"text",placeholder:t.$t("access-code-placeholder")},domProps:{value:t.accessCode},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.check()},input:function(e){e.target.composing||(t.accessCode=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("close")},on:{click:function(e){return t.close()}}},[i("i",{staticClass:"mdi mdi-close"})]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.canCheck(),title:t.$t("submit")},on:{click:function(e){return t.check()}}},[i("i",{staticClass:"mdi mdi-compare"})])])])])])}),[],!1,null,null,null);e.default=a.exports},W82m:function(t,e,i){"use strict";i.r(e);var n=i("6Z5p");function s(t,e,i,n){var s=_.values(google.maps.MapTypeId),a=document.createElement("div");a.id="sz-map-controls",a.className="map-controls",t.appendChild(a);var o=document.createElement("i");o.className="label label-success",o.style.fontSize="20px",o.style.position="relative",o.style.top="-7px",o.style.marginLeft="5px",o.style.marginRight="5px",o.textContent=n.getAnsweredQuestionsCount()+"/"+_.size(n.game.activity.questions),a.appendChild(o),n.$watch("game.answers",(function(){o.textContent=n.getAnsweredQuestionsCount()+"/"+_.size(n.game.activity.questions)}));var r=document.createElement("i");r.className="mdi mdi-email-outline",a.appendChild(r),r.addEventListener("click",(function(){n.$refs.gameMessagesListModal.open()}));var c=document.createElement("i");c.className="mdi mdi-flash",null===n.activeFlashExerciseId&&(c.className+=" hidden"),c.id="user-flash-exercise-control-item",a.appendChild(c),function t(){setTimeout((function(){c.style="color: #ff9800",setTimeout((function(){c.style="color: #000000",t()}),2e3)}),1e3)}(),c.addEventListener("click",(function(){var t=n.game.activity.questions.filter((function(t){return t.id===n.activeFlashExerciseId}));if(t.length>0){var e=t[0],i=n.getAnswer(e.id);n.openQuestionModal(e,i)}}));var l=document.createElement("i");l.className="mdi",n.$parent.isLoggedIn?l.className+=" mdi-account":l.className+=" mdi-account-off",l.title=n.$parent.userName,a.appendChild(l);var u=!1;l.addEventListener("click",(function(){$(l).tooltip("toggle"),u=!u})),$(l).tooltip({container:"body",placement:"bottom",title:$(l).attr("title"),trigger:"manual"}),$(window).on("resize",(function(){u&&$(l).tooltip("show")}));var d=document.createElement("i");d.className="mdi mdi-information-outline",d.title=n.$t("info"),a.appendChild(d),d.addEventListener("click",(function(){n.$parent.$refs.informationModal.open()}));var h=document.createElement("i");h.className="mdi mdi-crosshairs",h.title=n.$t("position-tracking"),a.appendChild(h),h.addEventListener("click",(function(){e.szTrackingEnabled?(e.szTrackingEnabled=!1,h.className="mdi mdi-crosshairs"):(e.panTo(i.getPosition()),google.maps.event.trigger(i,"click"),e.szTrackingEnabled=!0,h.className="mdi mdi-crosshairs-gps active")}));var m=document.createElement("i");m.className="mdi mdi-map-marker-multiple",m.title=n.$t("apply-item-bounds"),a.appendChild(m),m.addEventListener("click",(function(){var t=n.getMarkerBounds();t.isEmpty()||e.fitBounds(t)}));var p=document.createElement("i");p.className="mdi mdi-exit-to-app",p.title=n.$t("exit"),a.appendChild(p),p.addEventListener("click",(function(){n.$parent.exit()}));var f=document.createElement("i");f.className="mdi mdi-layers",f.title=n.$t("change-map-type"),a.appendChild(f),f.addEventListener("click",(function(){var t=_.indexOf(s,e.mapTypeId)+1;t===s.length&&(t=0),e.setMapTypeId(s[t])}))}var a=window.RADA.config.connect_markers||!1,o=window.RADA.config.map.enableStreetView||!1,r={components:{"game-question-modal":i("Jljj").default,"game-answering-time-modal":i("q7db").default,"game-answering-time-is-up-modal":i("fr2l").default,"game-access-code-modal":i("VQj8").default,"game-image-dialog":i("1BY3").default,"game-messages-list-modal":i("kW5u").default,"notification-modal":i("o/vw").default},props:["latitude","longitude","game","baseUrl"],mixins:[n.a],mounted:function(){var t=this;this.mapData={},this.mapData.markers=[],this.mapData.mapOptions={center:{lat:this.latitude,lng:this.longitude},zoom:18,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!0,streetViewControl:o,styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}]},this.mapData.iconAnchor=new google.maps.Point(20,20),this.mapData.iconSize=new google.maps.Size(60,60),this.mapData.iconScaledSize=new google.maps.Size(40,40),this.$nextTick((function(){t.initMap(),t.getGameData()}))},data:function(){return{question:null,answer:null,gpsError:!1,position:null,flashExercises:[],activeFlashExerciseId:null,notificationTitle:null,notificationMessage:null,gameIsStopped:!1}},watch:{gpsError:function(t){if(document.getElementById("sz-map-controls")){var e=document.getElementById("sz-gps-error");!0===t?e?e.style.display="initial":this.initGpsErrorControl("sz-gps-error"):e&&(e.style.display="none")}}},methods:{initMap:function(){var t=this;if(this.mapData.map=new google.maps.Map(document.getElementById("map"),this.mapData.mapOptions),this.mapData.infoWindow=new google.maps.InfoWindow({disableAutoPan:!0}),this.initGroundOverlays(),this.initPlayerMarker(),this.initGameControls(),t.game.activity.questions){var e=t.mapData.map,i=t.mapData.markers,n=t.mapData.infoWindow,s=t.mapData.playerMarker;_.each(t.game.activity.questions,(function(a){if(a.is_flash)return t.flashExercises.push(a),setTimeout((function(){$("#admin-flash-exercises-control-item").removeClass("hidden")}),2500),!0;var o=new google.maps.Marker({title:a.title,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e,animation:google.maps.Animation.DROP,questionId:a.id,questionType:a.type,hasAccessCode:t.hasAccessCode(a),optimized:!1});t.$nextTick((function(){t.detectAndSetMarkerIcon(o)})),i.push(o),o.addListener("click",(function(){var i=t.getAnswer(a.id);if(t.isAnswered(a.id))t.openQuestionModal(a,i);else{if(t.getEnforceItemsOrder()>0){var r=t.getNextUnansweredMarkers();if(!(r.length>0))return t.openNewInfoWindow(n,o,e);if(void 0===r.find((function(t){return o.questionId===t.questionId})))return t.openNewInfoWindow(n,o,e)}if(t.hasProximityCheck())google.maps.geometry.spherical.computeDistanceBetween(s.getPosition(),o.getPosition())<=t.getProximityRadius()?t.openQuestionModal(a,i):t.hasAccessCode(a)?t.openAccessCodeModal(a):t.openNewInfoWindow(n,o,e);else t.openQuestionModal(a,i)}}))})),a&&t.connectMarkers(),t.initUpdateClosestUnansweredMarkerArrow()}this.$parent.getGeoLocation((function(e){var i=t.mapData.map,n=t.mapData.playerMarker;t.gpsError=!1,n.setPosition({lat:e.coords.latitude,lng:e.coords.longitude}),!0===i.szTrackingEnabled&&i.panTo(n.getPosition()),t.initUpdateClosestUnansweredMarkerArrow(),t.hasProximityCheck()&&_.each(t.mapData.markers,(function(e){t.isAnswered(e.questionId)||t.detectAndSetMarkerIcon(e)})),t.setPosition(e),t.logPlayerPosition(t.getPosition()),t.initPlayerPositionLogging()}),!0,(function(e){t.gpsError=!0}))},initActiveFlashExercise:function(){this.getActiveFlashExercise()},getActiveFlashExercise:function(){var t=this;this.$http.get(this.baseUrl+"/api/games/"+this.game.id+"/get-active-flash-exercise").then((function(e){void 0!==e.body.id?($("#user-flash-exercise-control-item").removeClass("hidden"),null===t.activeFlashExerciseId&&(t.activeFlashExerciseId=parseInt(e.body.id),t.showNotification(t.$t("new-flash-exercise-title"),t.$t("new-flash-exercise-message")))):null!==t.activeFlashExerciseId&&(t.activeFlashExerciseId=null,$("#user-flash-exercise-control-item").addClass("hidden"),t.$refs.questionModal.closeQuestion(t.$t("flash-exercise-has-been-deactivated"))),setTimeout((function(){t.getActiveFlashExercise()}),5e3)}),(function(t){}))},getGameData:function(){var t=this;this.$http.get(this.baseUrl+"/api/games/"+this.game.id+"/get-game-data").then((function(e){if(void 0!==e.body){var i=e.body;t.showHideFlashExercises(i.flash_exercise),t.showHideGameIsStopped(i.start_stop),t.showNewMessages(i.messages)}})),setTimeout((function(){t.getGameData()}),5e3)},showNewMessages:function(t){this.showNextMessage(t,0)},showNextMessage:function(t,e){var i=this,n=t.length;e<n&&setTimeout((function(){var s=t[e];i.openNewMessageModal(s),e+1<n&&setTimeout((function(){i.showNextMessage(t,e+1)}),5e3)}),5e3)},openNewMessageModal:function(t){this.notificationTitle=this.$t("new-message"),this.notificationMessage=t.message,this.$refs.notificationModal.open()},showHideFlashExercises:function(t){void 0!==t.id?($("#user-flash-exercise-control-item").removeClass("hidden"),null===this.activeFlashExerciseId&&(this.activeFlashExerciseId=parseInt(t.id),this.showNotification(this.$t("new-flash-exercise-title"),this.$t("new-flash-exercise-message")))):null!==this.activeFlashExerciseId&&(this.activeFlashExerciseId=null,this.$refs.notificationModal.close(),$("#user-flash-exercise-control-item").addClass("hidden"),this.$refs.questionModal.closeQuestion(this.$t("flash-exercise-has-been-deactivated")))},showHideGameIsStopped:function(t){!1==(void 0!==t.started&&1===t.started)&&(this.$parent.checkUnload=!1,window.location.href="/games/"+this.game.id+"/stopped")},showNotification:function(t,e){var i=this;this.$refs.notificationModal.close(),this.$nextTick((function(){i.notificationTitle=t,i.notificationMessage=e,i.$refs.notificationModal.open()}))},initGroundOverlays:function(){this.mapData.skansenGroundOverlay=new google.maps.GroundOverlay(this.baseUrl+"/img/map/overlays/skansen.png",{north:59.329167,south:59.324011,east:18.111242,west:18.099022},{clickable:!1,map:this.mapData.map})},initGameControls:function(){var t=this.mapData.map,e=this.mapData.playerMarker,i=document.createElement("div");new s(i,t,e,this).index=1,t.controls[google.maps.ControlPosition.TOP_RIGHT].push(i)},initGpsErrorControl:function(t){var e=document.createElement("div");e.id=t,e.innerHTML="<span>"+this.$t("gps-error")+"</span>",e.style["margin-top"]=document.getElementById("sz-map-controls").offsetHeight+"px",this.mapData.map.controls[google.maps.ControlPosition.TOP_LEFT].push(e)},closeInfoWindow:function(){var t=this.mapData.infoWindow;t&&t.getMap()&&t.close()},openNewInfoWindow:function(t,e,i){return this.closeInfoWindow(),t.setContent(e.title),t.open(i,e),!0},initPlayerMarker:function(){var t,e,i=this,n=this.mapData.map,s=this.mapData.infoWindow;(t={path:google.maps.SymbolPath.CIRCLE,fillColor:"red",fillOpacity:1,scale:4.5,strokeColor:"white",strokeWeight:1},(e=new google.maps.Marker({title:this.$t("its-you"),position:{lat:this.latitude,lng:this.longitude},map:n,icon:t})).addListener("click",(function(){i.closeInfoWindow(),s.setContent(this.title),s.open(n,this)})),this.hasProximityCheck())&&new google.maps.Circle({map:n,radius:this.getProximityRadius(),fillColor:"blue",fillOpacity:.25,strokeColor:"blue",strokeWeight:1,strokeOpacity:.5}).bindTo("center",e,"position");google.maps.event.trigger(e,"click"),this.mapData.playerMarker=e},findQuestionById:function(t){return _.find(this.game.activity.questions,["id",t])},isAnswered:function(t){var e=this.getAnswer(t);return null!==e&&e.is_answered>0},isCorrect:function(t){var e=this.getAnswer(t);return e&&!0===e.correct},hasAccessCode:function(t){return!(!t||!t.access_code)},markAnswered:function(t,e){this.$set(this.game.answers,t,e);var i=_.find(this.mapData.markers,(function(e){return e.questionId===t}));i&&this.detectAndSetMarkerIcon(i);var n=_.keys(this.game.answers).map((function(t){return _.toNumber(t)})),s=_.map(this.game.activity.questions,(function(t){return t.id}));this.initUpdateClosestUnansweredMarkerArrow(),_.intersection(s,n).length===s.length&&e.is_answered&&(this.game.complete=!0)},connectMarkers:function(){var t=this.mapData.map,e=this.mapData.markers;e.length>1&&_.each(e,(function(i,n){if(0!==n)new google.maps.Polyline({path:[e[n-1].getPosition(),e[n].getPosition()],strokeWeight:2,strokeOpacity:.5,icons:[{icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW},offset:"100%"}],geodesic:!0,map:t})}))},hasProximityCheck:function(){return this.game.activity.proximity_check},getProximityRadius:function(){return this.game.activity.proximity_radius||25},getEnforceItemsOrder:function(){return parseInt(this.game.activity.enforce_items_order)||0},openAnsweringTimeModal:function(t){var e=this;this.question=t,this.$nextTick((function(){e.$refs.answeringTimeModal.open()}))},getAnswer:function(t,e){return void 0===e&&(e=null),_.get(this.game.answers,t,e)},isAnswering:function(t){var e=this.getAnswer(t);return!(null===e||e.is_answered>0)&&null!=e.answering_start_time},openAnsweringTimeIsUpModal:function(t){var e=this;this.$nextTick((function(){e.$refs.answeringTimeIsUpModal.open(t)}))},openQuestionModal:function(t,e){var i=this;t.answering_time_check&&!1===this.isAnswering(t.id)&&!1===this.isAnswered(t.id)?this.openAnsweringTimeModal(t):(this.question=t,this.answer=e||null,this.$nextTick((function(){i.$refs.questionModal.open()})))},openAccessCodeModal:function(t){var e=this;this.question=t,this.answer=null,this.$nextTick((function(){e.$refs.accessCodeModal.open()}))},detectMarkerIconState:function(t){var e=this.findQuestionById(t.questionId),i=google.maps.geometry.spherical.computeDistanceBetween(this.mapData.playerMarker.getPosition(),t.getPosition());if(e&&this.isAnswered(e.id))return this.isCorrect(e.id)?"correct":"incorrect";if(this.getEnforceItemsOrder()>0){var n=this.getNextUnansweredMarkers();if(n.length>0){for(var s in n){var a=n[s];if(t.questionId===a.questionId)return"active"}return"inactive"}return"inactive"}return this.hasProximityCheck()&&i>this.getProximityRadius()?"inactive":"active"},detectAndSetMarkerIcon:function(t){if(void 0!==t.isUser)return!1;var e=this.detectMarkerIconState(t),i=t.hasAccessCode;this.getEnforceItemsOrder()>0&&(i=!1),t.setIcon({anchor:this.mapData.iconAnchor,size:this.mapData.iconSize,scaledSize:this.mapData.iconScaledSize,url:this.getIconUrl(e,t.questionType,i)})},getMarkerBounds:function(){if(this.mapData.markerBounds)return this.mapData.markerBounds;if(this.mapData.markerBounds=new google.maps.LatLngBounds,this.mapData.markers.length>0){var t=this;_.each(this.mapData.markers,(function(e){t.mapData.markerBounds.extend(e.getPosition())}))}return this.mapData.markerBounds},getAnsweredQuestionsCount:function(){if(0===_.size(this.game.activity.questions)||0===_.size(this.game.answers))return 0;var t=_.map(this.game.activity.questions,(function(t){return t.id})),e=_.filter(this.game.answers,(function(e){return-1!==t.indexOf(e.question)}));return _.size(e)},getUnansweredMarkers:function(){var t=this;return _.filter(this.mapData.markers,(function(e){return void 0===e.isUser&&!t.isAnswered(e.questionId)}))},getClosestUnansweredMarker:function(){var t=this.getUnansweredMarkers(),e=this.mapData.playerMarker;return t.length>0?_.minBy(t,(function(t){return google.maps.geometry.spherical.computeDistanceBetween(e.getPosition(),t.getPosition())})):null},getNextUnansweredMarker:function(){var t=this,e=t.getUnansweredMarkers(),i=this.mapData.playerMarker;return e.length>0?_.minBy(e,(function(e){var n=t.findQuestionById(e.questionId);if(n){var s=parseInt(n.position),a=google.maps.geometry.spherical.computeDistanceBetween(i.getPosition(),e.getPosition());return parseFloat(s+"."+a)}return 1e4})):null},getNextUnansweredMarkers:function(){var t=this,e=t.getUnansweredMarkers(),i=[];if(e.length>0){var n=this.getNextUnansweredMarker();if(n&&n.questionId){var s=n.questionId,a=this.findQuestionById(s);if(void 0!==a){var o=a.position;_.each(e,(function(e){var n=t.findQuestionById(e.questionId);n&&n.position===o&&i.push(e)}))}}}return i},initUpdateClosestUnansweredMarkerArrow:function(){var t=this,e=null;(e=t.getEnforceItemsOrder()>0?t.getNextUnansweredMarker():t.getClosestUnansweredMarker())?(t.mapData.closestUnansweredMarkerArrow?t.mapData.closestUnansweredMarkerArrow.setPath([t.mapData.playerMarker.getPosition(),e.getPosition()]):t.mapData.closestUnansweredMarkerArrow=new google.maps.Polyline({path:[t.mapData.playerMarker.getPosition(),e.getPosition()],strokeColor:"red",strokeWeight:2,strokeOpacity:.4,icons:[{icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,fillColor:"red",strokeColor:"red",fillOpacity:.8,strokeOpacity:.8,scale:4},offset:"50px"}],geodesic:!0,map:t.mapData.map,zIndex:2}),this.detectAndSetMarkerIcon(e)):t.mapData.closestUnansweredMarkerArrow&&t.mapData.closestUnansweredMarkerArrow.setMap(null)},initPlayerPositionLogging:function(){if(!this.game.complete){var t=this,e=setInterval((function(){t.logPlayerPosition(t.getPosition())}),6e4);t.$watch("game.complete",(function(t,i){!0===t&&clearInterval(e)}))}},setPosition:function(t){this.position=t},getPosition:function(){return this.position},logPlayerPosition:function(t){if(t){var e={game_id:this.game.id,position:{coords:{latitude:t.coords.latitude,longitude:t.coords.longitude,altitude:t.coords.altitude,accuracy:t.coords.accuracy,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed},timestamp:t.timestamp}};this.$http.post(this.baseUrl+"/api/games/position",e).then((function(t){}),(function(t){}))}},openImageDialog:function(t,e){var i,n=this,s=this.findQuestionById(t);(i=2===s.type||3===s.type||8===s.type?!0===e.correct?this.$refs.correctImageDialog:this.$refs.incorrectImageDialog:this.$refs.submittedImageDialog).open(),i.$once("hidden:image:dialog",(function(){n.markAnswered(t,e)}))}}},c=(i("LPnv"),i("KHd+")),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%",width:"100%"}},[i("game-image-dialog",{ref:"correctImageDialog",attrs:{"base-url":t.baseUrl,image:"answer_correct.png","in-animation-class":"bounceInUp","out-animation-class":"bounceOut"}}),t._v(" "),i("game-image-dialog",{ref:"incorrectImageDialog",attrs:{"base-url":t.baseUrl,image:"answer_incorrect.png","in-animation-class":"bounceInDown","out-animation-class":"bounceOutDown"}}),t._v(" "),i("game-image-dialog",{ref:"submittedImageDialog",attrs:{"base-url":t.baseUrl,image:"answer_submitted.png","in-animation-class":"bounceInRight","out-animation-class":"bounceOutLeft"}}),t._v(" "),t.question?i("game-question-modal",{ref:"questionModal",attrs:{question:t.question,answer:t.answer,"game-id":t.game.id,"base-url":t.baseUrl}}):t._e(),t._v(" "),t.question?i("game-answering-time-modal",{ref:"answeringTimeModal",attrs:{question:t.question,"game-id":t.game.id,"base-url":t.baseUrl}}):t._e(),t._v(" "),i("game-answering-time-is-up-modal",{ref:"answeringTimeIsUpModal",attrs:{question:t.question}}),t._v(" "),i("game-access-code-modal",{ref:"accessCodeModal",attrs:{question:t.question}}),t._v(" "),i("notification-modal",{ref:"notificationModal",attrs:{title:t.notificationTitle,message:t.notificationMessage}}),t._v(" "),i("game-messages-list-modal",{ref:"gameMessagesListModal",attrs:{game_id:t.game.id,type:"play"}}),t._v(" "),i("div",{attrs:{id:"map"}}),t._v(" "),i("div",{attrs:{id:"messages-container"}})],1)}),[],!1,null,null,null);e.default=l.exports},WODu:function(t,e,i){"use strict";var n=i("cUx3");i.n(n).a},"aET+":function(t,e,i){var n,s,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=r.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),l=null,u=0,d=[],h=i("9tPo");function m(t,e){for(var i=0;i<t.length;i++){var n=t[i],s=a[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(y(n.parts[o],e))}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(y(n.parts[o],e));a[n.id]={id:n.id,refs:1,parts:r}}}}function p(t,e){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],o=e.base?a[0]+e.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(r):i.push(n[o]={id:o,parts:[r]})}return i}function f(t,e){var i=c(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),d.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=c(t.insertAt.before,i);i.insertBefore(e,s)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return _(e,t.attrs),f(t,e),e}function _(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function y(t,e){var i,n,s,a;if(e.transform&&t.css){if(!(a="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=a}if(e.singleton){var o=u++;i=l||(l=v(e)),n=b.bind(null,i,o,!1),s=b.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",_(e,t.attrs),f(t,e),e}(e),n=k.bind(null,i,e),s=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),n=x.bind(null,i),s=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return m(i,e),function(t){for(var n=[],s=0;s<i.length;s++){var o=i[s];(r=a[o.id]).refs--,n.push(r)}t&&m(p(t,e),e);for(s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var c=0;c<r.parts.length;c++)r.parts[c]();delete a[r.id]}}}};var w,C=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function b(t,e,i,n){var s=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=C(e,s);else{var a=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function x(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function k(t,e,i){var n=i.css,s=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||a)&&(n=h(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},cUx3:function(t,e,i){var n=i("8ktd");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,s);n.locals&&(t.exports=n.locals)},cfJP:function(t,e,i){"use strict";var n=i("x6Ai");i.n(n).a},fWMp:function(t,e,i){"use strict";i.r(e);var n={props:["activity"],mixins:[i("6Z5p").a],mounted:function(){this.baseUrl=window.RADA.config.base_url},data:function(){return{icons:["active","inactive","correct","incorrect"],baseUrl:""}},methods:{open:function(){this.$nextTick((function(){$(this.$refs.modal).modal("show")}))},close:function(){this.$nextTick((function(){$(this.$refs.modal).modal("hide")}))},getIconText:function(t){return this.$t("icons."+t)}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title text-center"},[t._v(t._s(t.activity.title))])]),t._v(" "),i("div",{staticClass:"modal-body"},[t._m(0),t._v(" "),i("div",{staticClass:"collapse",attrs:{id:"iconCodes"}},[i("div",{staticClass:"well well-sm"},[i("p",{staticClass:"help-block"},[t._v(t._s(t.$t("icons.help")))]),t._v(" "),t._l(t.icons,(function(e){return i("div",{staticClass:"media"},[i("div",{staticClass:"media-left media-middle"},[i("img",{staticClass:"media-object",staticStyle:{width:"30px",height:"30px"},attrs:{alt:"icon",src:t.getIconUrl(e)}})]),t._v(" "),i("div",{staticClass:"media-body"},[i("p",[t._v(t._s(t.getIconText(e)))])])])}))],2)]),t._v(" "),t.activity.description?i("p",{staticClass:"sz-display-new-lines text-center"},[t._v("\n                    "+t._s(t.activity.description)+"\n                ")]):t._e(),t._v(" "),i("h4",[t._v(t._s(t.$t("number-of-questions")))]),t._v(" "),i("p",[t._v(t._s(t.activity.questions.length))]),t._v(" "),i("h4",[t._v(t._s(t.$t("playing-time")))]),t._v(" "),i("p",[t._v("\n                    "+t._s(t.activity.playing_time)+" "+t._s(t.$t("minutes"))+"\n                ")]),t._v(" "),i("p",[i("img",{staticClass:"img-responsive center-block",attrs:{src:t.activity.featured_image,alt:"featured-image"}})])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-lg center-block sz-go-btn",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("go")))])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default btn-sm pull-right",attrs:{role:"button","data-toggle":"collapse","data-target":"#iconCodes","aria-expanded":"false","aria-controls":"iconCodes"}},[e("i",{staticClass:"mdi mdi-information-outline"})])}],!1,null,null,null);e.default=a.exports},fr2l:function(t,e,i){"use strict";i.r(e);var n={props:["question"],mixins:[],mounted:function(){},data:function(){return{inAjaxCall:!1,message:this.$t("items.answering_time.time_is_up")}},methods:{title:function(){return this.question?this.question.title:""},open:function(t){var e=this;return this.$nextTick((function(){$(e.$refs.modal).modal("show")})),void 0!==t&&(this.message=t),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-question",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.title()))])]),t._v(" "),i("div",{staticClass:"modal-body"},[t._v("\n                "+t._s(t.message)+"\n            ")]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("close")},on:{click:function(e){return t.close()}}},[i("i",{staticClass:"mdi mdi-close"})])])])])])}),[],!1,null,null,null);e.default=a.exports},kW5u:function(t,e,i){"use strict";i.r(e);var n={props:["game_id","type"],mixins:[],mounted:function(){var t=this;this.$nextTick((function(){t.getMessages()}))},data:function(){return{messages:[],newMessage:"",inAjaxCall:!1,event:null}},methods:{isManager:function(){return"monitoring"===this.type},deleteMessage:function(t,e){var i=this;this.$http.get(window.RADA.config.base_url+"/api/games/"+this.game_id+"/delete-message/"+e).then((function(t){i.getMessages()}))},addNewMessage:function(t){var e=this;this.newMessage.length>0&&this.$http.post(window.RADA.config.base_url+"/api/games/"+this.game_id+"/add-new-message",{message:this.newMessage}).then((function(t){e.newMessage="",e.getMessages()}))},getMessages:function(){var t=this;this.$http.get(window.RADA.config.base_url+"/api/games/"+this.game_id+"/get-all-messages").then((function(e){t.messages=e.body||[]}))},open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show"),t.getMessages()})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},s=(i("SS4g"),i("KHd+")),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("game-messages")))])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"messages-container table"},t._l(t.messages,(function(e){return i("tr",{class:{message:!0===t.isManager()}},[!1===t.isManager()?i("td",[i("div",{staticClass:"panel panel-default"},[i("div",{staticClass:"panel-body"},[i("p",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(e.message))]),t._v(" "),i("small",[t._v(t._s(e.created_at))])])])]):t._e(),t._v(" "),!0===t.isManager()?i("td",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(e.message))]):t._e(),t._v(" "),!0===t.isManager()?i("td",[t._v(t._s(e.created_at))]):t._e(),t._v(" "),!0===t.isManager()?i("td",[i("button",{staticClass:"pull-right btn btn-danger",on:{click:function(i){return t.deleteMessage(t.event,e.id)}}},[t._v("\n                                "+t._s(t.$t("delete-message"))+"\n                            ")])]):t._e()])})),0),t._v(" "),!0===t.isManager()?i("div",{staticClass:"add-message-container"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],ref:"newMessageInput",staticClass:"form-control",domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}}),t._v(" "),i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addNewMessage}},[t._v("\n                        "+t._s(t.$t("add-new-message"))+"\n                    ")])]):t._e()])])])])}),[],!1,null,"3e7fa61d",null);e.default=a.exports},naXG:function(t,e,i){"use strict";i.r(e);i("yLV6");var n=i("CKNg");Vue.use(n),Vue.config.lang=window.RADA.config.locale,Vue.locale(window.RADA.config.locale,_.cloneDeep(window.RADA.data.translations)),Vue.component("game-map",i("W82m").default),Vue.component("game-tutorial-modal",i("JSGF").default),Vue.component("game-information-modal",i("fWMp").default),Vue.component("game-results-modal",i("piDw").default),Vue.component("game-rating-modal",i("Pykw").default),Vue.component("game-image-dialog",i("1BY3").default);new Vue({el:"#sz-play-app",created:function(){var t=this;if(t.baseUrl=window.RADA.config.base_url,t.exitUrl=window.RADA.config.exit_url,t.isLoggedIn=window.Laravel.isLoggedIn,t.userName=window.Laravel.userName,t.game=window.RADA.data.game,window.addEventListener("beforeunload",t.leaving),t.$on("dialog:tutorial:close",(function(){t.setHasSeenTotorial()})),!t.isGameComplete()){window.initMap=function(){t.mapInitialised=!0},t.getGeoLocation((function(e){t.latitude=e.coords.latitude,t.longitude=e.coords.longitude}),!1,(function(e){t.geoLocationErrorMessage=e.message}));var e=document.createElement("script");e.type="text/javascript",e.src="//maps.googleapis.com/maps/api/js?key="+window.RADA.config.map.key+"&callback=initMap&libraries=geometry",document.body.appendChild(e)}},mounted:function(){var t=this;this.isGameComplete()?null===this.game.rating?this.$refs.ratingModal.open((function(){t.$refs.resultsModal.open()})):this.$refs.resultsModal.open():(this.hasSeenTutorial()?this.$refs.informationModal.open():this.$refs.tutorialModal.open(),this.$watch("game.complete",(function(){t.isGameComplete()&&(t.$refs.imageDialog.open(),t.$refs.imageDialog.$once("hidden:image:dialog",(function(){null===t.game.rating?t.$refs.ratingModal.open((function(){t.$refs.resultsModal.open()})):t.$refs.resultsModal.open()})))})))},data:function(){return{baseUrl:"",exitUrl:"",mapInitialised:!1,latitude:void 0,longitude:void 0,geoLocationErrorMessage:null,checkUnload:!0,game:null,isLoggedIn:!1,userName:""}},methods:{isLoading:function(){return!(this.mapInitialised&&this.latitude&&this.longitude)},isGameComplete:function(){return this.game&&this.game.complete},getGeoLocation:function(t,e,i){if("function"!=typeof i&&(i=function(t){window.console&&window.console.error&&"function"==typeof window.console.error&&window.console.error("Geolocation error",t)}),!window.navigator.geolocation)throw"Geolocation is unavailable!";var n={enableHighAccuracy:!0};!0===e?window.navigator.geolocation.watchPosition(t,i,n):window.navigator.geolocation.getCurrentPosition(t,i,n)},hasGeoLocationError:function(){return!!this.geoLocationErrorMessage},leaving:function(t){if(!this.checkUnload)return!1;var e=this.$t("exit-confirmation");return t.returnValue=e,e},exit:function(){confirm(this.$t("exit-confirmation"))&&(this.checkUnload=!1,window.location=this.exitUrl)},hasSeenTutorial:function(){return!!window.sessionStorage&&"true"===window.sessionStorage.getItem("seen:game:tutorial")},setHasSeenTotorial:function(){if(window.sessionStorage)try{window.sessionStorage.setItem("seen:game:tutorial","true")}catch(t){}}}})},"o/vw":function(t,e,i){"use strict";i.r(e);var n={props:["title","message"],data:function(){return{inAjaxCall:!1}},methods:{open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-sm btn-success center-block",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                    OK\n                ")])])])])])}),[],!1,null,"4c897ca7",null);e.default=a.exports},piDw:function(t,e,i){"use strict";i.r(e);var n={props:["game","baseUrl"],mixins:[i("wAI+").a],mounted:function(){var t=this;this.$http.get(t.baseUrl+"/api/games/"+t.game.id+"/voucher",{}).then((function(e){e.body.hasVoucher&&(t.voucher=e.body.voucher)}),(function(t){}))},data:function(){return{voucher:!1}},computed:{totalQuestionsCount:function(){return this.game.activity.questions.length},correctQuestionsCount:function(){var t=this;return _.filter(this.game.activity.questions,(function(e){if(t.isCorrect(e))return e})).length},getResultQuestions:function(){if(!0===this.game.activity.complete)return this.game.activity.questions;var t=this.game.answers;return this.game.activity.questions.filter((function(e){return void 0!==t[e.id]}))}},methods:{open:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("show"),setTimeout((function(){!1===$(document).find("body").hasClass("modal-open")&&$(document).find("body").addClass("modal-open")}),500)}))},exit:function(){this.$parent.exit()},isInformation:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.INFORMATION},isOneCorrectAnswer:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.ONE_CORRECT_ANSWER},isMultipleCorrectAnswers:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.MULTIPLE_CORRECT_ANSWERS},isFreeformAnswer:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.FREEFORM_ANSWER},isMatchPairs:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.MATCH_PAIRS},isEmbeddedContent:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.EMBEDDED_CONTENT},isPhoto:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.PHOTO},isMissingWord:function(t){return!!t&&t.type==window.Laravel.questionTypeConstants.MISSING_WORD},hasAnswer:function(t){return!(!this.game.answers||!this.game.answers[t.id])},isCorrect:function(t){return!!this.hasAnswer(t)&&this.game.answers[t.id].correct},hasGrade:function(t){return!!this.hasAnswer(t)&&null!==this.game.answers[t.id].grade},hasOptions:function(t){return!!this.hasAnswer(t)&&!!this.game.answers[t.id].answer.options},choseOption:function(t,e){return!!this.hasOptions(t)&&-1!==this.game.answers[t.id].answer.options.indexOf(e.id)},isCorrectOption:function(t){return!!t.correct},hasText:function(t){return!!this.hasAnswer(t)&&!!this.game.answers[t.id].answer.text},getText:function(t){return this.game.answers[t.id].answer.text},getMissingWordText:function(t){for(var e=this.getText(t),i=t.missing_word,n=this.missingWordsToArray(e),s=this.missingWordsToArray(i),a=s.length,o="",r=0;r<a;r++){var c=s[r],l=n[r];"text"===c.type?o+=c.text:"input"===c.type&&(l.text===c.text?(o+='<span class="correct">',o+=l.text,o+="</span>"):(o+='<span class="incorrect">',o+=l.text,o+='<span class="correct">( ',o+=c.text,o+=" )</span>",o+="</span>"))}return o},hasImage:function(t){return!!this.hasAnswer(t)&&!!this.game.answers[t.id].image},getImage:function(t){return this.game.answers[t.id].image},optionIconClass:function(t,e){var i=[],n=this.isCorrectOption(e);return this.choseOption(t,e)&&(n?i.push("correct"):i.push("incorrect")),this.isOneCorrectAnswer(t)?n?i.push("mdi-checkbox-marked-circle-outline"):i.push("mdi-close-circle-outline"):this.isMultipleCorrectAnswers(t)&&(n?i.push("mdi-checkbox-marked-outline"):i.push("mdi-close-box-outline")),i},showResults:function(){this.resultsShown=!this.resultsShown},getVoucherImageUrl:function(){return this.baseUrl+"/img/vouchers/voucher.png"},getVoucherUrl:function(){return this.baseUrl+"/discount_vouchers"},gotVoucher:function(){return!!this.voucher},voucherTitle:function(){return this.gotVoucher()?this.voucher.title:""}}},s=(i("WODu"),i("KHd+")),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-results",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h4",{staticClass:"modal-title"},[t._v(t._s(t.game.activity.title))])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"text-center sz-quick-results"},[i("div",{staticClass:"sz-results-count"},[t._v("\n                        "+t._s(t.correctQuestionsCount)+"/"+t._s(t.totalQuestionsCount)+"\n                    ")]),t._v(" "),i("div",{staticClass:"sz-complete-text"},[t._v("\n                        "+t._s(t.$t("complete"))+"\n                    ")])]),t._v(" "),t.gotVoucher()?i("div",{staticClass:"sz-game-voucher"},[i("h2",[t._v(t._s(t.$t("vouchers.heading")))]),t._v(" "),i("p",[t._v(t._s(t.voucherTitle()))]),t._v(" "),i("a",{staticClass:"sz-voucher-image",attrs:{href:t.getVoucherUrl(),target:"_blank"}},[i("img",{staticClass:"img-responsive",attrs:{src:t.getVoucherImageUrl(),alt:"voucher"}})]),t._v(" "),i("p",[t._v(t._s(t.$t("vouchers.details")))]),t._v(" "),i("a",{staticClass:"btn btn-default",attrs:{href:t.getVoucherUrl(),target:"_blank"}},[t._v(t._s(t.$t("vouchers.button")))])]):t._e(),t._v(" "),i("h2",{staticClass:"text-center"},[t._v(t._s(t.$t("results-heading")))]),t._v(" "),t._l(t.getResultQuestions,(function(e,n){return i("div",[i("h3",[t._v(t._s(n+1)+". "+t._s(e.title))]),t._v(" "),i("p",{staticClass:"sz-display-new-lines"},[t._v(t._s(e.description))]),t._v(" "),!1===t.hasGrade(e)?i("p",{staticClass:"alert alert-info"},[t._v(t._s(t.$t("task-is-pending-an-evaluation")))]):t._e(),t._v(" "),t.isOneCorrectAnswer(e)||t.isMultipleCorrectAnswers(e)?i("div",t._l(e.options,(function(n){return i("ul",{staticClass:"media-list sz-options-list"},[i("li",{staticClass:"media sz-option"},[n.image_url?i("div",{staticClass:"media-left"},[i("img",{staticClass:"media-object",attrs:{src:n.image_url,alt:"option-image"}})]):t._e(),t._v(" "),i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading",class:{selected:t.choseOption(e,n)}},[t._v(t._s(n.option))])]),t._v(" "),i("div",{staticClass:"media-right media-middle"},[i("i",{staticClass:"mdi",class:t.optionIconClass(e,n),attrs:{"aria-hidden":"true"}})])])])})),0):t._e(),t._v(" "),t.isEmbeddedContent(e)?i("div",[i("div",{staticClass:"embed-responsive embed-responsive-16by9",domProps:{innerHTML:t._s(e.embedded_content)}})]):t._e(),t._v(" "),t.isFreeformAnswer(e)||t.isEmbeddedContent(e)?i("div",[t.hasText(e)?i("div",{staticClass:"well well-sm sz-display-new-lines"},[t._v(t._s(t.getText(e)))]):t._e()]):t._e(),t._v(" "),t.isMissingWord(e)?i("div",[t.hasText(e)?i("div",{staticClass:"well well-sm sz-display-new-lines missing-word-container",domProps:{innerHTML:t._s(t.getMissingWordText(e))}}):t._e()]):t._e(),t._v(" "),t.isMatchPairs(e)?i("div",{staticClass:"sz-pairs-list"},t._l(e.pairs,(function(e){return i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-6"},[i("div",{staticClass:"media sz-pair"},[i("div",{staticClass:"media-left"},[e.image_url?i("img",{staticClass:"media-object",attrs:{src:e.image_url,alt:"pair-image"}}):t._e()]),t._v(" "),i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading"},[t._v(t._s(e.option))])])])]),t._v(" "),i("div",{staticClass:"col-xs-6"},[i("div",{staticClass:"media sz-pair"},[i("div",{staticClass:"media-left"},[e.image_match_url?i("img",{staticClass:"media-object",attrs:{src:e.image_match_url,alt:"pair-image"}}):t._e()]),t._v(" "),i("div",{staticClass:"media-body"},[i("h4",{staticClass:"media-heading"},[t._v(t._s(e.option_match))])])])])])})),0):t._e(),t._v(" "),t.isPhoto(e)?i("div",{staticClass:"sz-photo"},[t.hasImage(e)?i("div",{staticClass:"well well-sm"},[i("img",{staticClass:"img-responsive center-block",attrs:{alt:"uploaded-image",src:t.getImage(e)}})]):t._e()]):t._e(),t._v(" "),i("div",[e.read_more?i("a",{staticClass:"btn btn-default btn-sm",attrs:{href:"",href:e.read_more,target:"_blank"}},[i("i",{staticClass:"mdi mdi-open-in-new",attrs:{"aria-hidden":"true"}}),t._v("\n                            "+t._s(t.$t("read-more-about"))+"\n                        ")]):t._e()])])}))],2),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[i("i",{staticClass:"mdi mdi-exit-to-app",attrs:{"aria-hidden":"true"}})])])])])])}),[],!1,null,null,null);e.default=a.exports},q7db:function(t,e,i){"use strict";i.r(e);var n={props:["question","gameId","baseUrl"],mixins:[],mounted:function(){},data:function(){return{inAjaxCall:!1}},methods:{startTimer:function(){var t=this,e={game_id:this.gameId,question_id:this.question.id};this.inAjaxCall=!0,this.$http.post(t.baseUrl+"/api/games/start-answering-timer",e).then((function(e){t.inAjaxCall=!1,t.$parent.markAnswered(t.question.id,e.body),t.$parent.openQuestionModal(t.question,t.$parent.getAnswer(t.question.id)),t.close()}),(function(e){t.inAjaxCall=!1,setTimeout((function(){t.startTimer()}),200)}))},title:function(){return this.question?this.question.title:""},open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},s=i("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[i("div",{staticClass:"modal-dialog modal-lg sz-game-question",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),i("h4",{staticClass:"modal-title"},[t._v(t._s(t.title()))])]),t._v(" "),i("div",{staticClass:"modal-body"},[t._v("\n                "+t._s(t.$t("items.answering_time.description"))+"\n            ")]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button",title:t.$t("items.answering_time.start_timer")},on:{click:function(e){return t.startTimer()}}},[t._v("\n                    "+t._s(t.$t("items.answering_time.start_timer"))+" "),i("i",{staticClass:"mdi mdi-play-circle-outline"})])])])])])}),[],!1,null,null,null);e.default=a.exports},"wAI+":function(t,e,i){"use strict";var n=i("2EyG"),s=i.n(n);e.a={methods:{missingWordsToArray:function(t){var e=[];if(void 0===t||t.length<=0)return e;var i=t.split("{");e.push(new s.a({type:"text",text:i.shift(),answer:"",isCorrect:!1}));for(var n=i.length,a=0;a<n;a++){var o=i[a].split("}");2===o.length&&(e.push(new s.a({type:"input",text:o.shift(),answer:"",isCorrect:!1})),e.push(new s.a({type:"text",text:o.shift(),answer:"",isCorrect:!1})))}return e},missingWordsToString:function(t){for(var e=t.length,i="",n=0;n<e;n++){var s=t[n];"input"===s.type?i+="{"+s.answer+"}":i+=s.text}return i}}}},x6Ai:function(t,e,i){var n=i("M3GA");"string"==typeof n&&(n=[[t.i,n,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i("aET+")(n,s);n.locals&&(t.exports=n.locals)},yLV6:function(t,e,i){var n;!function(s,a,o,r){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=a.createElement("div"),d=Math.round,h=Math.abs,m=Date.now;function p(t,e,i){return setTimeout(C(t,i),e)}function f(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function v(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=s.console&&(s.console.warn||s.console.log);return a&&a.call(s.console,n,i),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var _=v((function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&void 0===t[n[s]])&&(t[n[s]]=e[n[s]]),s++;return t}),"extend","Use `assign`."),y=v((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function w(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&c(n,i)}function C(t,e){return function(){return t.apply(e,arguments)}}function b(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function x(t,e){return void 0===t?e:t}function k(t,e,i){g(I(e),(function(e){t.addEventListener(e,i,!1)}))}function T(t,e,i){g(I(e),(function(e){t.removeEventListener(e,i,!1)}))}function $(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function M(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function O(t,e,i){for(var n=[],s=[],a=0;a<t.length;){var o=e?t[a][e]:t[a];M(s,o)<0&&n.push(t[a]),s[a]=o,a++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function P(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),a=0;a<l.length;){if((n=(i=l[a])?i+s:e)in t)return n;a++}}var q=1;function S(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}var D="ontouchstart"in s,U=void 0!==P(s,"PointerEvent"),R=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],N=["clientX","clientY"];function j(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){b(t.options.enable,[t])&&i.handler(e)},this.init()}function z(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,a=1&e&&n-s==0,o=12&e&&n-s==0;i.isFirst=!!a,i.isFinal=!!o,a&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=W(e));s>1&&!i.firstMultiple?i.firstMultiple=W(e):1===s&&(i.firstMultiple=!1);var a=i.firstInput,o=i.firstMultiple,r=o?o.center:a.center,c=e.center=F(n);e.timeStamp=m(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=G(r,c),e.distance=V(r,c),function(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},a=t.prevInput||{};1!==e.eventType&&4!==a.eventType||(s=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=B(e.deltaX,e.deltaY);var l=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=o?(u=o.pointers,d=n,V(d[0],d[1],N)/V(u[0],u[1],N)):1,e.rotation=o?function(t,e){return G(e[1],e[0],N)+G(t[1],t[0],N)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,s,a,o=t.lastInterval||e,r=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(r>25||void 0===o.velocity)){var c=e.deltaX-o.deltaX,l=e.deltaY-o.deltaY,u=H(r,c,l);n=u.x,s=u.y,i=h(u.x)>h(u.y)?u.x:u.y,a=B(c,l),t.lastInterval=e}else i=o.velocity,n=o.velocityX,s=o.velocityY,a=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=a}(i,e);var u,d;var p=t.element;$(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function W(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:m(),pointers:e,center:F(e),deltaX:t.deltaX,deltaY:t.deltaY}}function F(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:d(i/e),y:d(n/e)}}function H(t,e,i){return{x:e/t||0,y:i/t||0}}function B(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function V(t,e,i){i||(i=L);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function G(t,e,i){i||(i=L);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}j.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(S(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,j.apply(this,arguments)}w(Q,j,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},K={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Z="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Z,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(J="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),w(tt,j,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Y[n],a=K[t.pointerType]||t.pointerType,o="touch"==a,r=M(e,t.pointerId,"pointerId");1&s&&(0===t.button||o)?r<0&&(e.push(t),r=e.length-1):12&s&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),i&&e.splice(r,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,j.apply(this,arguments)}function nt(t,e){var i=E(t.touches),n=E(t.changedTouches);return 12&e&&(i=O(i.concat(n),"identifier",!0)),[i,n]}w(it,j,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=nt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function at(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},j.apply(this,arguments)}function ot(t,e){var i=E(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,a,o=E(t.changedTouches),r=[],c=this.target;if(a=i.filter((function(t){return $(t.target,c)})),1===e)for(s=0;s<a.length;)n[a[s].identifier]=!0,s++;for(s=0;s<o.length;)n[o[s].identifier]&&r.push(o[s]),12&e&&delete n[o[s].identifier],s++;return r.length?[O(a.concat(r),"identifier",!0),r]:void 0}w(at,j,{handler:function(t){var e=st[t.type],i=ot.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function rt(){j.apply(this,arguments);var t=C(this.handler,this);this.touch=new at(this.manager,t),this.mouse=new Q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],a=Math.abs(e-s.x),o=Math.abs(i-s.y);if(a<=25&&o<=25)return!0}return!1}w(rt,j,{handler:function(t,e,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)ct.call(this,e,i);else if(s&&ut.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=P(u.style,"touchAction"),ht=void 0!==dt,mt=function(){if(!ht)return!1;var t={},e=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||s.CSS.supports("touch-action",i)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&mt[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){b(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,"none"))return"none";var e=A(t,"pan-x"),i=A(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(A(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,s=A(n,"none")&&!mt.none,a=A(n,"pan-y")&&!mt["pan-y"],o=A(n,"pan-x")&&!mt["pan-x"];if(s){var r=1===t.pointers.length,c=t.distance<2,l=t.deltaTime<250;if(r&&c&&l)return}if(!o||!a)return s||a&&6&i||o&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function ft(t){this.options=c({},this.defaults,t||{}),this.id=q++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function _t(t,e){var i=e.manager;return i?i.get(t):t}function yt(){ft.apply(this,arguments)}function wt(){yt.apply(this,arguments),this.pX=null,this.pY=null}function Ct(){yt.apply(this,arguments)}function bt(){ft.apply(this,arguments),this._timer=null,this._input=null}function xt(){yt.apply(this,arguments)}function kt(){yt.apply(this,arguments)}function Tt(){ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $t(t,e){return(e=e||{}).recognizers=x(e.recognizers,$t.defaults.preset),new At(t,e)}ft.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(f(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return f(t,"dropRecognizeWith",this)?this:(t=_t(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(f(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=_t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(f(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=M(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+gt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!b(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(yt,ft,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,s=this.attrTest(t);return n&&(8&i||!s)?16|e:n||s?4&i?8|e:2&e?4|e:2:32}}),w(wt,yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,a=t.deltaX,o=t.deltaY;return s&e.direction||(6&e.direction?(s=0===a?1:a<0?2:4,i=a!=this.pX,n=Math.abs(t.deltaX)):(s=0===o?1:o<0?8:16,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return yt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Ct,yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(bt,ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),w(xt,yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(kt,yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return wt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Tt,ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&s&&i){if(4!=t.eventType)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||V(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$t.VERSION="2.0.7",$t.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xt,{enable:!1}],[Ct,{enable:!1},["rotate"]],[kt,{direction:6}],[wt,{direction:6},["swipe"]],[Tt],[Tt,{event:"doubletap",taps:2},["tap"]],[bt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function At(t,e){var i;this.options=c({},$t.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(U?tt:R?at:D?rt:Q))(i,z),this.touchAction=new pt(this,this.options.touchAction),It(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function It(t,e){var i,n=t.element;n.style&&(g(t.options.cssProps,(function(s,a){i=P(n.style,a),e?(t.oldCssProps[i]=n.style[i],n.style[i]=s):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}At.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,s=e.curRecognizer;(!s||s&&8&s.state)&&(s=e.curRecognizer=null);for(var a=0;a<n.length;)i=n[a],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&14&i.state&&(s=e.curRecognizer=i),a++}},get:function(t){if(t instanceof ft)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(f(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(f(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=M(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return g(I(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return g(I(t),(function(t){e?i[t]&&i[t].splice(M(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=a.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&It(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c($t,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:At,Input:j,TouchAction:pt,TouchInput:at,MouseInput:Q,PointerEventInput:tt,TouchMouseInput:rt,SingleTouchInput:it,Recognizer:ft,AttrRecognizer:yt,Tap:Tt,Pan:wt,Swipe:kt,Pinch:Ct,Rotate:xt,Press:bt,on:k,off:T,each:g,merge:y,extend:_,assign:c,inherit:w,bindFn:C,prefixed:P}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=$t,void 0===(n=function(){return $t}.call(e,i,e,t))||(t.exports=n)}(window,document)}});
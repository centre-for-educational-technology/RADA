$((function(){var e=Laravel.apiUrl;$(".mdi-close-circle-outline").on("click",(function(){var a=$(this);if(confirm(a.data("confirm"))){var t=a.data("user-id"),o=a.data("role-id");$.ajax({cache:!1,method:"DELETE",url:e+"/manage/users/"+t+"/roles/"+o,success:function(e,o,n){a.parent().fadeOut("medium",(function(){$(this).remove()})),$("#user-"+t).find("button").data("user-roles",e.roles)},error:function(e,t,o){a.parent().addClass("animated shake"),setTimeout((function(){a.parent().removeClass("animated shake")}),1e3)}})}})),$("#rolesModal").on("show.bs.modal",(function(e){var a=$(this).find("form"),t=$(e.relatedTarget),o=t.data("user-id"),n=t.data("user-name"),i=t.data("user-roles");a.attr("action",a.data("action-base")+"/"+o),$(this).find("h4.modal-title > strong").text(n),i&&_.each(i,(function(e){a.find('input[type="checkbox"][name="roles[]"][value="'+e.id+'"]').prop("checked",!0),e.zoo&&a.find('select[name="role_'+e.id+'_zoo"]').val(e.zoo)}))})),$("#rolesModal").on("hidden.bs.modal",(function(e){var a=$(this).find("form");a.trigger("reset"),a.attr("action",""),$(this).find("h4.modal-title > strong").text("")})),$('button[data-toggle="action"]').on("click",(function(e){e.preventDefault();var a=$(this);if(confirm(a.data("confirm"))){var t=$("<form>",{method:"POST",action:a.data("action")});t.append($("<input>",{type:"hidden",name:"_method",value:a.data("method").toUpperCase()})),t.append($("<input>",{type:"hidden",name:"_token",value:window.Laravel.csrfToken})),t.appendTo("body"),t.submit()}else a.trigger("blur")}))}));
!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=6)}({"+U1n":function(t,e,n){var a=n("n/Y7");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},"+w0H":function(t,e,n){var a=n("CKNg");Vue.use(a),Vue.config.lang=window.RADA.config.locale,Vue.locale(window.RADA.config.locale,_.cloneDeep(window.RADA.data.translations)),Vue.component("game-map",n("Ucg5").default);new Vue({el:"#sz-play-app",created:function(){var t=this;t.baseUrl=window.RADA.config.base_url,t.exitUrl=window.RADA.config.exit_url,t.isLoggedIn=window.Laravel.isLoggedIn,t.userName=window.Laravel.userName,t.game=window.RADA.data.game,window.initMap=function(){t.mapInitialised=!0},t.getGeoLocation((function(e){t.latitude=e.coords.latitude,t.longitude=e.coords.longitude}),!1,(function(e){t.geoLocationErrorMessage=e.message}));var e=document.createElement("script");e.type="text/javascript",e.src="//maps.googleapis.com/maps/api/js?key="+window.RADA.config.map.key+"&callback=initMap&libraries=geometry",document.body.appendChild(e)},mounted:function(){},data:function(){return{baseUrl:"",exitUrl:"",mapInitialised:!1,latitude:void 0,longitude:void 0,geoLocationErrorMessage:null,game:null,isLoggedIn:!1,userName:""}},methods:{isLoading:function(){return!(this.mapInitialised&&this.latitude&&this.longitude)},getGeoLocation:function(t,e,n){if("function"!=typeof n&&(n=function(t){window.console&&window.console.error&&"function"==typeof window.console.error&&window.console.error("Geolocation error",t)}),!window.navigator.geolocation)throw"Geolocation is unavailable!";var a={enableHighAccuracy:!0};!0===e?window.navigator.geolocation.watchPosition(t,n,a):window.navigator.geolocation.getCurrentPosition(t,n,a)},hasGeoLocationError:function(){return!!this.geoLocationErrorMessage},exit:function(){window.location=this.exitUrl}}})},"1zPf":function(t,e,n){var a=n("37Hm");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},"37Hm":function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.table-row .btn {\n    margin-bottom: 10px;\n}\n",""]),t.exports=e},6:function(t,e,n){t.exports=n("+w0H")},"6Z5p":function(t,e,n){"use strict";e.a={methods:{getIconsBaseUrl:function(){return this.baseUrl+"/img/map/icons/"},getIconUrl:function(t,e,n){return this.getIconsBaseUrl()+(e&&1===e?"info_":"")+("active"!==t?t:"default")+(!0===n&&"inactive"===t?"_access":"")+".svg"}}}},"8wbO":function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.table-row .btn {\n    margin-bottom: 10px;\n}\n",""]),t.exports=e},"9tPo":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,a=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,s=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(i=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:a+s.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},"9ySv":function(t,e,n){var a=n("faet");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},CKNg:function(t,e,n){"use strict";function a(t,e){window.console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}var i=function(t,e){t.locale=function(t,n,i){if(void 0===n)return e.locales[t];null===n?(e.locales[t]=void 0,delete e.locales[t]):function(t,e,n){if("object"==typeof e)n(e);else{var a=e.call(this);if("function"==typeof a)if(a.resolved)n(a.resolved);else if(a.requested)a.pendingCallbacks.push(n);else{a.requested=!0;var i=a.pendingCallbacks=[n];a((function(t){a.resolved=t;for(var e=0,n=i.length;e<n;e++)i[e](t)}),(function(){n()}))}else(s=a)&&"function"==typeof s.then&&a.then((function(t){n(t)}),(function(){n()})).catch((function(t){console.error(t),n()}))}var s}(0,n,(function(n){n?e.$set(e.locales,t,n):a("failed set `"+t+"` locale"),i&&i()}))}};var s,o;function r(t){if(!s){var e=t.$watch("__watcher__",(function(t){}));s=t._watchers[0].constructor,e()}return s}function l(t){return!o&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(o=t._data.__ob__.dep.constructor),o}function c(t){return null==t}function u(t,e){function n(n){var a=arguments.length;return a?a>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function d(t){return null!==t&&"object"==typeof t}var f=Object.prototype.toString;var p,m=Object.prototype.hasOwnProperty;function g(t,e){return m.call(t,e)}var h=null,v=null,y=/(%|)\{([0-9a-zA-Z_]+)\}/g,b=Object.create(null),_=[];_[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},_[1]={ws:[1],".":[2],"[":[4],eof:[7]},_[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},_[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},_[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},_[5]={"'":[4,0],eof:8,else:[5,0]},_[6]={'"':[4,0],eof:8,else:[6,0]};var w=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function k(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function C(t){var e,n,a,i=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(a=i,w.test(a)?(n=(e=i).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==n&&39!==n?e:e.slice(1,-1):"*"+i)}function x(t){var e=b[t];return e||(e=function(t){var e,n,a,i,s,o,r,l=[],c=-1,u=0,d=0,f=[];function p(){var e=t[c+1];if(5===u&&"'"===e||6===u&&'"'===e)return c++,n="\\"+e,f[0](),!0}for(f[1]=function(){void 0!==a&&(l.push(a),a=void 0)},f[0]=function(){void 0===a?a=n:a+=n},f[2]=function(){f[0](),d++},f[3]=function(){if(d>0)d--,u=4,f[0]();else{if(d=0,!1===(a=C(a)))return!1;f[1]()}};null!=u;)if(c++,"\\"!==(e=t[c])||!p()){if(i=k(e),8===(s=(r=_[u])[i]||r.else||8))return;if(u=s[0],(o=f[s[1]])&&(n=void 0===(n=s[2])?e:n,!1===o()))return;if(7===u)return l.raw=t,l}}(t))&&(b[t]=e),e}var $,E=function(t){function e(t){if(null==t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(n=t,"[object Object]"===f.call(n))for(var e in t)if(g(t,e))return!1;var n;return!0}return function(t,n){if(!d(t))return null;var a=x(n);if(e(a))return null;for(var i=a.length,s=t,o=0;o<i;){var r=s[a[o]];if(void 0===r){s=null;break}s=r,o++}return s}},M=function(t){var e=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return(e=1===e.length&&"object"==typeof e[0]?e[0]:{})&&e.hasOwnProperty||(e={}),t.replace(y,(function(n,a,i,s){var o;return"{"===t[s-1]&&"}"===t[s+n.length]?i:c(o=g(e,i)?e[i]:n)?"":o}))},n=E();function i(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var a=t.config.lang,i=t.config.fallbackLang;return 1===e.length?d(e[0])||Array.isArray(e[0])?e=e[0]:"string"==typeof e[0]&&(a=e[0]):2===e.length&&("string"==typeof e[0]&&(a=e[0]),(d(e[1])||Array.isArray(e[1]))&&(e=e[1])),{lang:a,fallback:i,params:e}}function s(t,e){return!(!t||!e)&&!c(n(t,e))}function o(i,s,r){if(!i)return null;var l=n(i,s);if(Array.isArray(l))return l;if(c(l)&&(l=i[s]),c(l))return null;if("string"!=typeof l)return a("Value of key '"+s+"' is not a string!"),null;if(l.indexOf("@:")>=0){var u=l.match(/(@:[\w|.]+)/g);for(var d in u){var f=u[d],p=o(i,f.substr(2),r);l=l.replace(f,p)}}return r?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[l].concat(r)):e(l,r):l}function r(t,e,n,a,i){var s=null;return c(s=o(t(e),a,i))&&c(s=o(t(n),a,i))?null:s}function l(e,n,a,i){return c(i)?(t.config.missingHandler&&t.config.missingHandler.apply(null,[e,n,a]),n):i}function f(e){return t.locale(e)}function p(t){return this.$options.locales[t]}function m(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return n[e=function(t,e){return t=Math.abs(t),2===e?function(t){return t?t>1?1:0:1}(t):t?Math.min(t,2):0}(e,n.length)]?n[e].trim():t}return t.t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var a=i.apply(void 0,e),s=a.lang,o=a.fallback,c=a.params;return l(s,t,null,r(f,s,o,t,c))},t.tc=function(e,n){for(var a=[],i=arguments.length-2;i-- >0;)a[i]=arguments[i+2];return m(t.t.apply(t,[e].concat(a)),n)},t.te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var a=i.apply(void 0,e),o=a.lang;return s(f(o),t)},t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var a=i.apply(void 0,e),s=a.lang,o=a.fallback,c=a.params,d=null;return this.$options.locales&&(d=r(u(p,this),s,o,t,c))?d:l(s,t,this,r(f,s,o,t,c))},t.prototype.$tc=function(t,e){for(var n,a=[],i=arguments.length-2;i-- >0;)a[i]=arguments[i+2];return"number"!=typeof e&&void 0!==e?t:m((n=this).$t.apply(n,[t].concat(a)),e)},t.prototype.$te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var a=i.apply(void 0,e),o=a.lang,r=!1;return this.$options.locales&&(r=s(u(p)(o),t)),r||(r=s(f(o),t)),r},t.mixin({computed:{$lang:function(){return t.config.lang}}}),t};function T(t,e){void 0===e&&(e={});t.version&&Number(t.version.split(".")[0]);!function(t,e){var n=t.config.silent;t.config.silent=!0,$||($=new t({data:{lang:e,locales:{}}}));t.config.silent=n}(t,"en"),i(t,$),function(t,e){var n=t.prototype._init;t.prototype._init=function(t){var a=this;n.call(this,t),this.$parent||(this._$lang=e,this._langUnwatch=this._$lang.$watch("$data",(function(t,e){a.$forceUpdate()}),{deep:!0}))};var a=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this._$lang=null),a.apply(this,arguments)}}(t,$),function(t,e,n){var a,i,s,o=r(e),c=l(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:(a=function(){return e.lang},i=e,s=new o(i,a,null,{lazy:!0}),function(){return s.dirty&&s.evaluate(),c&&c.target&&s.depend(),s.value}),set:u((function(t){e.lang=t}),e)}),p=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){p=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return v},set:function(t){v=t}})}(t,$,"en"),M(t)}T.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(T),t.exports=T},JPst:function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var i=(o=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(l," */")),s=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[n].concat(s).concat([i]).join("\n")}var o,r,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,a){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(a)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var r=0;r<t.length;r++){var l=[].concat(t[r]);a&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},"KHd+":function(t,e,n){"use strict";function a(t,e,n,a,i,s,o,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=r?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return a}))},NS5K:function(t,e,n){var a=n("8wbO");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},NzoY:function(t,e,n){"use strict";var a=n("1zPf");n.n(a).a},P71D:function(t,e,n){"use strict";n.r(e);var a={props:["questions","game_id"],mixins:[],mounted:function(){var t=this;this.$nextTick((function(){t.getActiveFlashExercise((function(e){t.startedExerciseId=e}))}))},data:function(){return{inAjaxCall:!1,startedExerciseId:null}},methods:{openTaskInfoModal:function(t){this.$parent.openNewTaskInfoModal({name:t.title,users:t.users})},canStart:function(t){return null===this.startedExerciseId},canStop:function(t){return this.startedExerciseId===t},startExercise:function(t){this.startedExerciseId=t,this.startStopExercise(t,!0)},stopExercise:function(t){this.startedExerciseId=null,this.startStopExercise(t,!1)},startStopExercise:function(t,e){this.$http.post("/api/games/"+this.game_id+"/start-stop-flash-exercise",{questionId:t,active:e}).then((function(t){}),(function(t){console.log(t)}))},getActiveFlashExercise:function(t){this.$http.get("/api/games/"+this.game_id+"/get-active-flash-exercise").then((function(e){void 0!==e.body.id?t(e.body.id):t(null)}),(function(e){t(null)}))},title:function(){return this.$t("flash-exercises-list-modal-title")},open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},i=(n("ha2a"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title()))])]),t._v(" "),n("div",{staticClass:"modal-body"},t._l(t.questions,(function(e){return n("div",{staticClass:"flash-exercise"},[n("span",{staticClass:"name",on:{click:function(n){return t.openTaskInfoModal(e)}}},[t._v(t._s(e.title))]),t._v(" "),!1===t.canStop(e.id)?n("button",{staticClass:"btn btn-success pull-right",attrs:{disabled:!1===t.canStart(e.id)},on:{click:function(n){return t.startExercise(e.id)}}},[t._v("\n                        "+t._s(t.$t("start"))+"\n                    ")]):t._e(),t._v(" "),t.canStop(e.id)?n("button",{staticClass:"btn btn-danger pull-right",on:{click:function(n){return t.stopExercise(e.id)}}},[t._v("\n                        "+t._s(t.$t("stop"))+"\n                    ")]):t._e()])})),0)])])])}),[],!1,null,"31c4af3e",null);e.default=s.exports},T7Y5:function(t,e,n){"use strict";n.r(e);var a={props:["players","title","task_id"],methods:{getUrl:function(t){for(var e=t.completed_tasks,n=e.length,a=0;a<n;a++){var i=e[a];if(i.id===this.task_id)return i.url}return null},open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){t.$parent.resetTaskInfoModal(),$(t.$refs.modal).modal("hide")}))}}},i=(n("NzoY"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"modal-body"},[t.players.length>0?n("h3",[t._v("\n                    "+t._s(t.$t("users-who-have-completed-the-task"))+":\n                ")]):t._e(),t._v(" "),n("table",{staticClass:"table"},t._l(t.players,(function(e){return n("tr",{staticClass:"table-row"},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[n("a",{staticClass:"btn btn-primary btn-sm pull-right",attrs:{type:"button",href:t.getUrl(e),target:"_blank"}},[t._v(t._s(t.$t("open")))])])])})),0)]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                    "+t._s(t.$t("close"))+" "),n("i",{staticClass:"mdi mdi-close"})])])])])])}),[],!1,null,null,null);e.default=s.exports},UB7W:function(t,e,n){var a=n("g4oC");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},UF5e:function(t,e,n){"use strict";var a=n("NS5K");n.n(a).a},Ucg5:function(t,e,n){"use strict";n.r(e);var a=n("6Z5p");function i(t,e,n,a){var i=_.values(google.maps.MapTypeId),s=document.createElement("div");s.id="sz-map-controls",s.className="map-controls",t.appendChild(s);var o=document.createElement("i");o.className="mdi",a.$parent.isLoggedIn?o.className+=" mdi-account":o.className+=" mdi-account-off",o.title=a.$parent.userName,s.appendChild(o);var r=!1;o.addEventListener("click",(function(){$(o).tooltip("toggle"),r=!r})),$(o).tooltip({container:"body",placement:"bottom",title:$(o).attr("title"),trigger:"manual"}),$(window).on("resize",(function(){r&&$(o).tooltip("show")}));var l=document.createElement("i");l.className="mdi mdi-information-outline",l.title=a.$t("info"),s.appendChild(l),l.addEventListener("click",(function(){a.$refs.informationModal.open()}));var c=document.createElement("i");c.className="mdi mdi-crosshairs",c.title=a.$t("position-tracking"),s.appendChild(c),c.addEventListener("click",(function(){e.szTrackingEnabled?(e.szTrackingEnabled=!1,c.className="mdi mdi-crosshairs"):(e.panTo(n.getPosition()),google.maps.event.trigger(n,"click"),e.szTrackingEnabled=!0,c.className="mdi mdi-crosshairs-gps active")}));var u=document.createElement("i");u.className="mdi mdi-map-marker-multiple",u.title=a.$t("apply-item-bounds"),s.appendChild(u),u.addEventListener("click",(function(){var t=a.getMarkerBounds();t.isEmpty()||e.fitBounds(t)}));var d=document.createElement("i");d.className="mdi mdi-exit-to-app",d.title=a.$t("exit"),s.appendChild(d),d.addEventListener("click",(function(){a.$parent.exit()}));var f=document.createElement("i");f.className="mdi mdi-layers",f.title=a.$t("change-map-type"),s.appendChild(f),f.addEventListener("click",(function(){var t=_.indexOf(i,e.mapTypeId)+1;t===i.length&&(t=0),e.setMapTypeId(i[t])}));var p=document.createElement("div");p.className="map-controls",t.appendChild(p);var m=document.createElement("i");m.className="mdi mdi-flash hidden",m.id="admin-flash-exercises-control-item",p.appendChild(m),m.addEventListener("click",(function(){a.openFlashExercisesListModal()}));var g=document.createElement("i");g.className="mdi mdi-email-outline",p.appendChild(g),g.addEventListener("click",(function(){a.$refs.gameMessagesListModal.open()}));var h=document.createElement("i");h.className="mdi mdi-owl grading-control-item hidden";var v=document.createElement("span");v.className="badge badge-light",v.innerText="0",h.appendChild(v),p.appendChild(h),h.addEventListener("click",(function(){window.open("/grading/"+a.game.activity.id,"_blank")})),function t(){a.$http.get("/api/games/"+a.game.id+"/get-count-of-ungraded-answers").then((function(e){v.innerText=e.body.count,null!==e.body.count&&(e.body.count>0?v.className="badge badge-light":v.className="badge badge-light hidden",h.className="mdi mdi-owl grading-control-item",setTimeout((function(){t()}),1e4))}),(function(t){v.innerText="0",v.className="badge badge-light hidden"}))}();var y=document.createElement("i");y.className="mdi mdi-chart-line",p.appendChild(y),y.addEventListener("click",(function(){window.open("/manage/game-statistics/"+a.game.id,"_blank")}));var b=document.createElement("i");1===a.game.activity.started?b.className="mdi mdi-stop-circle-outline start-stop":b.className="mdi mdi-play-circle-outline start-stop",p.appendChild(b),b.addEventListener("click",(function(){var t=1===a.game.activity.started?0:1;a.$http.get("/api/games/"+a.game.id+"/start-stop-game?start="+t).then((function(e){a.game.activity.started=t,1===a.game.activity.started?b.className="mdi mdi-stop-circle-outline start-stop":b.className="mdi mdi-play-circle-outline start-stop"}))}))}var s=window.RADA.config.map.enableStreetView||!1,o={components:{"flash-exercises-list-modal":n("P71D").default,"game-messages-list-modal":n("kW5u").default,"notification-modal":n("o/vw").default,"player-info-modal":n("f8Ej").default,"task-info-modal":n("T7Y5").default,"game-information-modal":n("fWMp").default},props:["latitude","longitude","game","baseUrl"],mixins:[a.a],mounted:function(){var t=this;this.mapData={},this.mapData.markers=[],this.mapData.mapOptions={center:{lat:this.latitude,lng:this.longitude},zoom:18,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!0,streetViewControl:s,styles:[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"transit.station",stylers:[{visibility:"off"}]}]},this.mapData.iconAnchor=new google.maps.Point(20,20),this.mapData.iconSize=new google.maps.Size(60,60),this.mapData.iconScaledSize=new google.maps.Size(40,40),this.$nextTick((function(){t.initMap()}))},data:function(){return{question:null,answer:null,gpsError:!1,position:null,flashExercises:[],activeFlashExerciseId:null,notificationTitle:null,notificationMessage:null,gameIsStopped:!1,currentPlayerCompletedTasks:[],currentPlayerName:"",currentTaskName:"",currentTaskId:null,currentTaskCompletedPlayers:[]}},watch:{gpsError:function(t){if(document.getElementById("sz-map-controls")){var e=document.getElementById("sz-gps-error");!0===t?e?e.style.display="initial":this.initGpsErrorControl("sz-gps-error"):e&&(e.style.display="none")}}},methods:{initMap:function(){var t=this;if(this.mapData.map=new google.maps.Map(document.getElementById("map"),this.mapData.mapOptions),this.mapData.infoWindow=new google.maps.InfoWindow({disableAutoPan:!0}),this.initGroundOverlays(),this.initPlayerMarker(),this.initGameControls(),t.game.activity.questions){var e=t.mapData.map,n=t.mapData.markers;_.each(t.game.activity.questions,(function(a){if(a.is_flash)return t.flashExercises.push(a),setTimeout((function(){$("#admin-flash-exercises-control-item").removeClass("hidden")}),2500),!0;var i=new google.maps.Marker({title:a.title,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e,animation:google.maps.Animation.DROP,questionId:a.id,questionType:a.type,hasAccessCode:t.hasAccessCode(a),optimized:!1,users:[]});t.$nextTick((function(){t.detectAndSetMarkerIcon(i)})),n.push(i),i.addListener("click",(function(){t.openNewTaskInfoModal({name:i.title,users:i.users,id:i.questionId})}))}))}this.$parent.getGeoLocation((function(e){var n=t.mapData.map,a=t.mapData.playerMarker;t.gpsError=!1,a.setPosition({lat:e.coords.latitude,lng:e.coords.longitude}),!0===n.szTrackingEnabled&&n.panTo(a.getPosition()),t.setPosition(e)}),!0,(function(e){t.gpsError=!0})),this.getPositionOfPlayersWhoPlayMyGame()},showNotification:function(t,e){this.$refs.notificationModal.close(),this.notificationTitle=t,this.notificationMessage=e,this.$refs.notificationModal.open()},openFlashExercisesListModal:function(){this.$refs.flashExercisesListModal.open()},getPositionOfPlayersWhoPlayMyGame:function(){var t=this,e={game_id:this.game.id};this.$http.post(t.baseUrl+"/api/games/get-position-of-players-who-play-my-game",e).then((function(e){var n=e.body;if("false"!==n){for(var a=n.length,i=t.mapData.markers,s=i.length,o=0;o<s;o++)if(void 0!==i[o].isUser)i[o].setMap(null);else{i[o].users=[];for(var r=0;r<a;r++)for(var l=n[r],c=l.completed_tasks,u=c.length,d=0;d<u;d++){c[d].id===i[o].questionId&&i[o].users.push(l)}}for(var f=t.mapData.map,p=function(e){var a=n[e];if("hidden"===a.status)return"continue";var s=new google.maps.Marker({title:a.name,position:{lat:Number(a.lat),lng:Number(a.lng)},map:f,optimized:!1,isUser:!0}),o={path:google.maps.SymbolPath.CIRCLE,fillColor:"active"===a.status?"orange":"gray",fillOpacity:1,scale:4.5,strokeColor:"orange",strokeWeight:1};s.setIcon(o),s.addListener("click",(function(){t.openNewPlayerInfoModal(a)})),i.push(s)},m=0;m<a;m++)p(m);setTimeout((function(){t.getPositionOfPlayersWhoPlayMyGame()}),6e4)}}),(function(t){console.log(t.body)}))},initGroundOverlays:function(){this.mapData.skansenGroundOverlay=new google.maps.GroundOverlay(this.baseUrl+"/img/map/overlays/skansen.png",{north:59.329167,south:59.324011,east:18.111242,west:18.099022},{clickable:!1,map:this.mapData.map})},initGameControls:function(){var t=this.mapData.map,e=this.mapData.playerMarker,n=document.createElement("div");new i(n,t,e,this).index=1,t.controls[google.maps.ControlPosition.TOP_RIGHT].push(n)},initGpsErrorControl:function(t){var e=document.createElement("div");e.id=t,e.innerHTML="<span>"+this.$t("gps-error")+"</span>",e.style["margin-top"]=document.getElementById("sz-map-controls").offsetHeight+"px",this.mapData.map.controls[google.maps.ControlPosition.TOP_LEFT].push(e)},closeInfoWindow:function(){var t=this.mapData.infoWindow;t&&t.getMap()&&t.close()},openNewInfoWindow:function(t,e,n){return this.closeInfoWindow(),t.setContent(e.title),t.open(n,e),!0},openNewPlayerInfoModal:function(t){this.currentPlayerName=t.name,this.currentPlayerCompletedTasks=t.completed_tasks,this.$refs.playerInfoModal.open()},openNewTaskInfoModal:function(t){this.currentTaskName=t.name,this.currentTaskId=t.id,this.currentTaskCompletedPlayers=t.users,this.$refs.taskInfoModal.open()},initPlayerMarker:function(){var t,e=this,n=this.mapData.map,a=this.mapData.infoWindow;t={path:google.maps.SymbolPath.CIRCLE,fillColor:"red",fillOpacity:1,scale:4.5,strokeColor:"white",strokeWeight:1};var i=new google.maps.Marker({title:this.$t("its-you"),position:{lat:this.latitude,lng:this.longitude},map:n,icon:t});i.addListener("click",(function(){e.closeInfoWindow(),a.setContent(this.title),a.open(n,this)})),google.maps.event.trigger(i,"click"),this.mapData.playerMarker=i},findQuestionById:function(t){return _.find(this.game.activity.questions,["id",t])},isAnswered:function(t){var e=this.getAnswer(t);return null!==e&&e.is_answered>0},isCorrect:function(t){var e=this.getAnswer(t);return e&&!0===e.correct},hasAccessCode:function(t){return!(!t||!t.access_code)},hasProximityCheck:function(){return this.game.activity.proximity_check},getProximityRadius:function(){return this.game.activity.proximity_radius||25},getEnforceItemsOrder:function(){return parseInt(this.game.activity.enforce_items_order)||0},openAnsweringTimeModal:function(t){var e=this;this.question=t,this.$nextTick((function(){e.$refs.answeringTimeModal.open()}))},getAnswer:function(t,e){return void 0===e&&(e=null),_.get(this.game.answers,t,e)},isAnswering:function(t){var e=this.getAnswer(t);return!(null===e||e.is_answered>0)&&null!=e.answering_start_time},detectMarkerIconState:function(t){return"active"},detectAndSetMarkerIcon:function(t){if(void 0!==t.isUser)return!1;var e=this.detectMarkerIconState(t);t.setIcon({anchor:this.mapData.iconAnchor,size:this.mapData.iconSize,scaledSize:this.mapData.iconScaledSize,url:this.getIconUrl(e,t.questionType,!0)})},getMarkerBounds:function(){if(this.mapData.markerBounds)return this.mapData.markerBounds;if(this.mapData.markerBounds=new google.maps.LatLngBounds,this.mapData.markers.length>0){var t=this;_.each(this.mapData.markers,(function(e){t.mapData.markerBounds.extend(e.getPosition())}))}return this.mapData.markerBounds},getAnsweredQuestionsCount:function(){if(0===_.size(this.game.activity.questions)||0===_.size(this.game.answers))return 0;var t=_.map(this.game.activity.questions,(function(t){return t.id})),e=_.filter(this.game.answers,(function(e){return-1!==t.indexOf(e.question)}));return _.size(e)},setPosition:function(t){this.position=t},getPosition:function(){return this.position},resetPlayerInfoModal:function(){this.currentPlayerCompletedTasks=[],this.currentPlayerName=null},resetTaskInfoModal:function(){this.currentTaskCompletedPlayers=[],this.currentTaskName=null,this.currentTaskId=null}}},r=(n("bs3/"),n("KHd+")),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%",width:"100%"}},[n("flash-exercises-list-modal",{ref:"flashExercisesListModal",attrs:{questions:t.flashExercises,game_id:t.game.id}}),t._v(" "),n("game-messages-list-modal",{ref:"gameMessagesListModal",attrs:{game_id:t.game.id,type:"monitoring"}}),t._v(" "),n("notification-modal",{ref:"notificationModal",attrs:{title:t.notificationTitle,message:t.notificationMessage}}),t._v(" "),n("player-info-modal",{ref:"playerInfoModal",attrs:{tasks:t.currentPlayerCompletedTasks,title:t.currentPlayerName}}),t._v(" "),n("task-info-modal",{ref:"taskInfoModal",attrs:{players:t.currentTaskCompletedPlayers,title:t.currentTaskName,task_id:t.currentTaskId}}),t._v(" "),n("game-information-modal",{ref:"informationModal",attrs:{activity:t.game.activity}}),t._v(" "),n("div",{attrs:{id:"map"}})],1)}),[],!1,null,null,null);e.default=l.exports},WtdL:function(t,e,n){"use strict";var a=n("UB7W");n.n(a).a},"aET+":function(t,e,n){var a,i,s={},o=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=a.apply(this,arguments)),i}),r=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var a=r.call(this,t,n);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}}(),c=null,u=0,d=[],f=n("9tPo");function p(t,e){for(var n=0;n<t.length;n++){var a=t[n],i=s[a.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](a.parts[o]);for(;o<a.parts.length;o++)i.parts.push(b(a.parts[o],e))}else{var r=[];for(o=0;o<a.parts.length;o++)r.push(b(a.parts[o],e));s[a.id]={id:a.id,refs:1,parts:r}}}}function m(t,e){for(var n=[],a={},i=0;i<t.length;i++){var s=t[i],o=e.base?s[0]+e.base:s[0],r={css:s[1],media:s[2],sourceMap:s[3]};a[o]?a[o].parts.push(r):n.push(a[o]={id:o,parts:[r]})}return n}function g(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=d[d.length-1];if("top"===t.insertAt)a?a.nextSibling?n.insertBefore(e,a.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(t.insertAt.before,n);n.insertBefore(e,i)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var a=function(){0;return n.nc}();a&&(t.attrs.nonce=a)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,a,i,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var o=u++;n=c||(c=v(e)),a=k.bind(null,n,o,!1),i=k.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),a=x.bind(null,n,e),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),a=C.bind(null,n),i=function(){h(n)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=m(t,e);return p(n,e),function(t){for(var a=[],i=0;i<n.length;i++){var o=n[i];(r=s[o.id]).refs--,a.push(r)}t&&p(m(t,e),e);for(i=0;i<a.length;i++){var r;if(0===(r=a[i]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete s[r.id]}}}};var _,w=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function k(t,e,n,a){var i=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var s=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function C(t,e){var n=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function x(t,e,n){var a=n.css,i=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||s)&&(a=f(a)),i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([a],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}},"bs3/":function(t,e,n){"use strict";var a=n("9ySv");n.n(a).a},f8Ej:function(t,e,n){"use strict";n.r(e);var a={props:["tasks","title"],methods:{open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){t.$parent.resetPlayerInfoModal(),$(t.$refs.modal).modal("hide")}))}}},i=(n("UF5e"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"modal-body"},[t.tasks.length>0?n("h3",[t._v(t._s(t.$t("completed-tasks"))+":")]):t._e(),t._v(" "),n("table",{staticClass:"table"},t._l(t.tasks,(function(e){return n("tr",{staticClass:"table-row"},[n("td",[t._v(t._s(e.id))]),t._v(" "),n("td",[t._v(t._s(e.title))]),t._v(" "),n("td",[n("a",{staticClass:"btn btn-primary btn-sm pull-right",attrs:{type:"button",href:e.url,target:"_blank"}},[t._v(t._s(t.$t("open")))])])])})),0)]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                    "+t._s(t.$t("close"))+" "),n("i",{staticClass:"mdi mdi-close"})])])])])])}),[],!1,null,null,null);e.default=s.exports},fWMp:function(t,e,n){"use strict";n.r(e);var a={props:["activity"],mixins:[n("6Z5p").a],mounted:function(){this.baseUrl=window.RADA.config.base_url},data:function(){return{icons:["active","inactive","correct","incorrect"],baseUrl:""}},methods:{open:function(){this.$nextTick((function(){$(this.$refs.modal).modal("show")}))},close:function(){this.$nextTick((function(){$(this.$refs.modal).modal("hide")}))},getIconText:function(t){return this.$t("icons."+t)}}},i=n("KHd+"),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title text-center"},[t._v(t._s(t.activity.title))])]),t._v(" "),n("div",{staticClass:"modal-body"},[t._m(0),t._v(" "),n("div",{staticClass:"collapse",attrs:{id:"iconCodes"}},[n("div",{staticClass:"well well-sm"},[n("p",{staticClass:"help-block"},[t._v(t._s(t.$t("icons.help")))]),t._v(" "),t._l(t.icons,(function(e){return n("div",{staticClass:"media"},[n("div",{staticClass:"media-left media-middle"},[n("img",{staticClass:"media-object",staticStyle:{width:"30px",height:"30px"},attrs:{alt:"icon",src:t.getIconUrl(e)}})]),t._v(" "),n("div",{staticClass:"media-body"},[n("p",[t._v(t._s(t.getIconText(e)))])])])}))],2)]),t._v(" "),t.activity.description?n("p",{staticClass:"sz-display-new-lines text-center"},[t._v("\n                    "+t._s(t.activity.description)+"\n                ")]):t._e(),t._v(" "),n("h4",[t._v(t._s(t.$t("number-of-questions")))]),t._v(" "),n("p",[t._v(t._s(t.activity.questions.length))]),t._v(" "),n("h4",[t._v(t._s(t.$t("playing-time")))]),t._v(" "),n("p",[t._v("\n                    "+t._s(t.activity.playing_time)+" "+t._s(t.$t("minutes"))+"\n                ")]),t._v(" "),n("p",[n("img",{staticClass:"img-responsive center-block",attrs:{src:t.activity.featured_image,alt:"featured-image"}})])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-lg center-block sz-go-btn",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(t._s(t.$t("go")))])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default btn-sm pull-right",attrs:{role:"button","data-toggle":"collapse","data-target":"#iconCodes","aria-expanded":"false","aria-controls":"iconCodes"}},[e("i",{staticClass:"mdi mdi-information-outline"})])}],!1,null,null,null);e.default=s.exports},faet:function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.grading-control-item {\n    position: relative;\n    color: #000;\n}\n.grading-control-item .badge {\n    position: absolute;\n    top: 0;\n    right: -5px;\n    background: #3097d1;\n}\n.map-controls .start-stop.mdi-play-circle-outline {\n    color: green;\n}\n.map-controls .start-stop.mdi-stop-circle-outline {\n    color: red;\n}\n",""]),t.exports=e},g4oC:function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.flash-exercise[data-v-6b6ce471] {\n    margin-bottom: 15px;\n    height: 36px;\n    line-height: 36px;\n}\n.flash-exercise .name[data-v-6b6ce471] {\n    padding-left: 15px;\n}\ntextarea[data-v-6b6ce471] {\n    margin-bottom: 10px;\n}\n.message[data-v-6b6ce471] {\n    border-bottom: 1px dotted #ccc;\n}\n.message td[data-v-6b6ce471] {\n    padding: 10px;\n}\n",""]),t.exports=e},ha2a:function(t,e,n){"use strict";var a=n("+U1n");n.n(a).a},kW5u:function(t,e,n){"use strict";n.r(e);var a={props:["game_id","type"],mixins:[],mounted:function(){var t=this;this.$nextTick((function(){t.getMessages()}))},data:function(){return{messages:[],newMessage:"",inAjaxCall:!1,event:null}},methods:{isManager:function(){return"monitoring"===this.type},deleteMessage:function(t,e){var n=this;this.$http.get("/api/games/"+this.game_id+"/delete-message/"+e).then((function(t){n.getMessages()}))},addNewMessage:function(t){var e=this;this.newMessage.length>0&&this.$http.post("/api/games/"+this.game_id+"/add-new-message",{message:this.newMessage}).then((function(t){e.newMessage="",e.getMessages()}))},getMessages:function(){var t=this;this.$http.get("/api/games/"+this.game_id+"/get-all-messages").then((function(e){t.messages=e.body||[]}))},open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show"),t.getMessages()})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},i=(n("WtdL"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("game-messages")))])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("table",{staticClass:"messages-container table"},t._l(t.messages,(function(e){return n("tr",{class:{message:!0===t.isManager()}},[!1===t.isManager()?n("td",[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-body"},[n("p",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(e.message))]),t._v(" "),n("small",[t._v(t._s(e.created_at))])])])]):t._e(),t._v(" "),!0===t.isManager()?n("td",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(e.message))]):t._e(),t._v(" "),!0===t.isManager()?n("td",[t._v(t._s(e.created_at))]):t._e(),t._v(" "),!0===t.isManager()?n("td",[n("button",{staticClass:"pull-right btn btn-danger",on:{click:function(n){return t.deleteMessage(t.event,e.id)}}},[t._v("\n                                "+t._s(t.$t("delete-message"))+"\n                            ")])]):t._e()])})),0),t._v(" "),!0===t.isManager()?n("div",{staticClass:"add-message-container"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],ref:"newMessageInput",staticClass:"form-control",domProps:{value:t.newMessage},on:{input:function(e){e.target.composing||(t.newMessage=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addNewMessage}},[t._v("\n                        "+t._s(t.$t("add-new-message"))+"\n                    ")])]):t._e()])])])])}),[],!1,null,"6b6ce471",null);e.default=s.exports},"n/Y7":function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.flash-exercise[data-v-31c4af3e] {\n    margin-bottom: 15px;\n    height: 36px;\n    line-height: 36px;\n}\n.flash-exercise .name[data-v-31c4af3e] {\n    padding-left: 15px;\n}\n",""]),t.exports=e},"o/vw":function(t,e,n){"use strict";n.r(e);var a={props:["title","message"],data:function(){return{inAjaxCall:!1}},methods:{open:function(){var t=this;return this.$nextTick((function(){$(t.$refs.modal).modal("show")})),$(this.$refs.modal)},close:function(){var t=this;this.$nextTick((function(){$(t.$refs.modal).modal("hide")}))}}},i=n("KHd+"),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.close()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close()}}},[n("div",{staticClass:"modal-dialog modal-sm",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close",diabled:t.inAjaxCall},on:{click:function(e){return t.close()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.message)}}),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-sm btn-success center-block",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                    OK\n                ")])])])])])}),[],!1,null,"4c897ca7",null);e.default=s.exports}});